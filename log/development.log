  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-09-06 14:03:42.627014', '2024-09-06 14:03:42.627018') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20240906140229)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30), "last_name" varchar(30), "email" varchar(80), "phone" varchar(10), "password" varchar(100), "address" varchar(200), "role" varchar(50), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240906140229') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrders (20240906140246)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20240906140229)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.0ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240906140229'[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20240906140229)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30), "last_name" varchar(30), "email" varchar(80), "phone" varchar(10), "password" varchar(100), "address" varchar(200), "role" varchar(50), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240906140229') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrders (20240906140246)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at2" datetime(6), "status" varchar(80), "total" integer(15), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240906140246') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrderDetails (20240906140257)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer NOT NULL, "product_id" integer NOT NULL, "quantity" integer(10), "total" integer(15), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e5976611fd"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_4f2ac9473b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_order_id" ON "order_details" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_product_id" ON "order_details" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240906140257') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20240906140313)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30), "description" text, "price" integer(9), "image" varchar(500), "category_id" integer NOT NULL, "stock" integer(9), "supplier_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_fb915499a4"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
, CONSTRAINT "fk_rails_1aa9b0116b"
FOREIGN KEY ("supplier_id")
  REFERENCES "suppliers" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_category_id" ON "products" ("category_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_supplier_id" ON "products" ("supplier_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240906140313') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20240906140322)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30), "description" text, "offers" integer(5), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240906140322') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateSuppliers (20240906140332)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "suppliers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "phone" varchar(20), "address" varchar(200), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240906140332') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddPasswordDigestToUsers (20240906142525)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240906142525') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/signup" for ::1 at 2024-09-06 09:29:40 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:27: syntax error, unexpected `end', expecting end-of-input
  end
  ^~~
):
  
app/controllers/users_controller.rb:27: syntax error, unexpected `end', expecting end-of-input
Started POST "/signup" for ::1 at 2024-09-06 09:31:55 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as */*
  Parameters: {"user"=>{"name"=>"Maiyer", "last_name"=>"Hernandez", "email"=>"maiyer@gmail.com", "phone"=>"1234567890", "password"=>"[FILTERED]", "address"=>"1234 Main St, Anytown, USA", "role"=>"ADMINISTRADOR"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:4:in `signup'
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "last_name", "email", "phone", "password", "address", "role", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Maiyer"], ["last_name", "Hernandez"], ["email", "maiyer@gmail.com"], ["phone", "1234567890"], ["password", "[FILTERED]"], ["address", "1234 Main St, Anytown, USA"], ["role", "ADMINISTRADOR"], ["created_at", "2024-09-06 14:31:56.228793"], ["updated_at", "2024-09-06 14:31:56.228793"], ["password_digest", "[FILTERED]"]]
  ↳ app/controllers/users_controller.rb:4:in `signup'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:4:in `signup'
Completed 201 Created in 255ms (Views: 0.7ms | ActiveRecord: 9.5ms | Allocations: 16607)


Started POST "/login" for ::1 at 2024-09-06 09:32:59 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"maiyer@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"maiyer@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "maiyer@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 288ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 5583)


Started GET "/users" for ::1 at 2024-09-06 09:36:51 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
AbstractController::ActionNotFound (The action 'index' could not be found for UsersController):
  
actionpack (7.1.4) lib/abstract_controller/base.rb:155:in `process'
actionpack (7.1.4) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.4) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.4) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
activerecord (7.1.4) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.4) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.4) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.4) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.4) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.4) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.4) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.4) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.4) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.4) lib/rails/engine.rb:536:in `call'
puma (6.4.2) lib/puma/configuration.rb:272:in `call'
puma (6.4.2) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.2) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.2) lib/puma/request.rb:99:in `handle_request'
puma (6.4.2) lib/puma/server.rb:464:in `process_client'
puma (6.4.2) lib/puma/server.rb:245:in `block in run'
puma (6.4.2) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started GET "/users" for ::1 at 2024-09-06 09:37:50 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
AbstractController::ActionNotFound (The action 'index' could not be found for UsersController):
  
actionpack (7.1.4) lib/abstract_controller/base.rb:155:in `process'
actionpack (7.1.4) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.4) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.4) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
activerecord (7.1.4) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.4) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.4) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.4) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.4) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.4) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.4) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.4) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.4) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.4) lib/rails/engine.rb:536:in `call'
puma (6.4.2) lib/puma/configuration.rb:272:in `call'
puma (6.4.2) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.2) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.2) lib/puma/request.rb:99:in `handle_request'
puma (6.4.2) lib/puma/server.rb:464:in `process_client'
puma (6.4.2) lib/puma/server.rb:245:in `block in run'
puma (6.4.2) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddPasswordDigestToUsers (20240906142525)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "last_name" varchar(30) DEFAULT NULL, "email" varchar(80) DEFAULT NULL, "phone" varchar(10) DEFAULT NULL, "password" varchar(100) DEFAULT NULL, "address" varchar(200) DEFAULT NULL, "role" varchar(50) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "password_digest" varchar DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","name","last_name","email","phone","password","address","role","created_at","updated_at","password_digest")
                     SELECT "id","name","last_name","email","phone","password","address","role","created_at","updated_at","password_digest" FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "last_name" varchar(30) DEFAULT NULL, "email" varchar(80) DEFAULT NULL, "phone" varchar(10) DEFAULT NULL, "password" varchar(100) DEFAULT NULL, "address" varchar(200) DEFAULT NULL, "role" varchar(50) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","name","last_name","email","phone","password","address","role","created_at","updated_at")
                     SELECT "id","name","last_name","email","phone","password","address","role","created_at","updated_at" FROM "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.0ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240906142525'[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddPasswordDigestToUsers (20240906142525)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240906142525') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users" for ::1 at 2024-09-06 09:40:15 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
AbstractController::ActionNotFound (The action 'index' could not be found for UsersController):
  
actionpack (7.1.4) lib/abstract_controller/base.rb:155:in `process'
actionpack (7.1.4) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.4) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.4) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
activerecord (7.1.4) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.4) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.4) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.4) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.4) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.4) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.4) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.4) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.4) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.4) lib/rails/engine.rb:536:in `call'
puma (6.4.2) lib/puma/configuration.rb:272:in `call'
puma (6.4.2) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.2) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.2) lib/puma/request.rb:99:in `handle_request'
puma (6.4.2) lib/puma/server.rb:464:in `process_client'
puma (6.4.2) lib/puma/server.rb:245:in `block in run'
puma (6.4.2) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started GET "/users" for ::1 at 2024-09-06 09:41:13 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 51ms (Views: 15.6ms | ActiveRecord: 2.5ms | Allocations: 19199)


Started GET "/" for 45.238.146.4 at 2024-09-06 10:31:55 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.9ms | Allocations: 386)
Completed 200 OK in 49ms (Views: 15.4ms | ActiveRecord: 0.0ms | Allocations: 7371)


Started GET "/users" for 45.238.146.4 at 2024-09-06 10:32:01 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 49ms (Views: 23.9ms | ActiveRecord: 2.1ms | Allocations: 16886)


Started GET "/users" for 45.238.146.4 at 2024-09-06 10:32:19 -0500
Processing by UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.1ms | Allocations: 901)


Started POST "/signup" for ::1 at 2024-09-06 10:32:55 -0500
Processing by UsersController#signup as */*
  Parameters: {"user"=>{"name"=>"Alan", "last_name"=>"Wadith", "email"=>"Alan@gmail.com", "phone"=>"1234567890", "password"=>"[FILTERED]", "address"=>"1234 Main St, Anytown, USA", "role"=>"CLIENTE"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "last_name", "email", "phone", "password", "address", "role", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Alan"], ["last_name", "Wadith"], ["email", "Alan@gmail.com"], ["phone", "1234567890"], ["password", "[FILTERED]"], ["address", "1234 Main St, Anytown, USA"], ["role", "CLIENTE"], ["created_at", "2024-09-06 15:32:56.069285"], ["updated_at", "2024-09-06 15:32:56.069285"], ["password_digest", "[FILTERED]"]]
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:9:in `signup'
Completed 201 Created in 217ms (Views: 0.4ms | ActiveRecord: 3.0ms | Allocations: 3104)


Started POST "/signup" for 45.238.146.4 at 2024-09-06 10:33:24 -0500
Processing by UsersController#signup as */*
  Parameters: {"user"=>{"name"=>"Sofia", "last_name"=>"Howard", "email"=>"sofia@gmail.com", "phone"=>"1234567890", "password"=>"[FILTERED]", "address"=>"1234 Main St, Anytown, USA", "role"=>"CLIENTE"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "last_name", "email", "phone", "password", "address", "role", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Sofia"], ["last_name", "Howard"], ["email", "sofia@gmail.com"], ["phone", "1234567890"], ["password", "[FILTERED]"], ["address", "1234 Main St, Anytown, USA"], ["role", "CLIENTE"], ["created_at", "2024-09-06 15:33:24.992711"], ["updated_at", "2024-09-06 15:33:24.992711"], ["password_digest", "[FILTERED]"]]
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:9:in `signup'
Completed 201 Created in 218ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 2157)


Started POST "/login" for 45.238.146.4 at 2024-09-06 10:33:36 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"maiyer@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"maiyer@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "maiyer@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 10ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2840)


Started POST "/login" for 45.238.146.4 at 2024-09-06 10:33:54 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"Alan@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"Alan@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "Alan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 231ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 754)


Started GET "/users" for 45.238.146.4 at 2024-09-06 10:34:01 -0500
Processing by UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.1ms | Allocations: 963)


Started GET "/" for 45.238.146.4 at 2024-09-06 15:52:59 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.0ms | Allocations: 386)
Completed 200 OK in 32ms (Views: 13.2ms | ActiveRecord: 0.0ms | Allocations: 4460)


Started GET "/users" for 45.238.146.4 at 2024-09-06 15:53:05 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 52ms (Views: 24.4ms | ActiveRecord: 2.8ms | Allocations: 17061)


Started GET "/" for 45.238.146.4 at 2024-09-06 15:56:32 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.3ms | Allocations: 25)
Completed 200 OK in 18ms (Views: 12.5ms | ActiveRecord: 0.0ms | Allocations: 259)


Started GET "/users" for 45.238.146.4 at 2024-09-06 15:56:40 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.1ms | Allocations: 1045)


Started OPTIONS "/login" for 45.238.146.4 at 2024-09-06 15:58:23 -0500
  
ActionController::RoutingError (No route matches [OPTIONS] "/login"):
  
Started OPTIONS "/login" for 45.238.146.4 at 2024-09-06 16:13:22 -0500
  
ActionController::RoutingError (No route matches [OPTIONS] "/login"):
  
Started OPTIONS "/login" for 45.238.146.4 at 2024-09-06 16:15:48 -0500
  
ActionController::RoutingError (No route matches [OPTIONS] "/login"):
  
Started POST "/login" for 45.238.146.4 at 2024-09-06 16:24:23 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"email"=>"maiyer@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"maiyer@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "maiyer@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 40ms (Views: 0.2ms | ActiveRecord: 3.1ms | Allocations: 13257)


Started POST "/login" for 45.238.146.4 at 2024-09-06 16:24:24 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"maiyer@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"maiyer@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "maiyer@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 689)


Started POST "/login" for 45.238.146.4 at 2024-09-06 16:24:37 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"maiyer@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"maiyer@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "maiyer@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 597)


Started POST "/login" for 45.238.146.4 at 2024-09-06 16:25:23 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"Alan@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"Alan@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "Alan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 205ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 678)


Started POST "/login" for 45.238.146.4 at 2024-09-06 16:25:53 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 223ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 836)


Started POST "/login" for 45.238.146.4 at 2024-09-06 16:27:30 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 221ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 618)


Started POST "/login" for 45.238.146.4 at 2024-09-06 16:27:45 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 222ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 675)


Started POST "/login" for 45.238.146.4 at 2024-09-06 16:40:25 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"maiyer@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"maiyer@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "maiyer@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 880)


Started POST "/login" for 45.238.146.4 at 2024-09-06 16:40:31 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"maiyer@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"maiyer@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "maiyer@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 581)


Started POST "/signup" for 45.238.146.4 at 2024-09-06 16:43:24 -0500
Processing by UsersController#signup as */*
  Parameters: {"user"=>{"name"=>"maiyer", "last_name"=>"Hernandez", "email"=>"maiyerpro@gmail.com", "phone"=>"1234567890", "password"=>"[FILTERED]", "address"=>"1234 Main St, Anytown, USA", "role"=>"ADMINISTRADOR"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mUser Create (4.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "last_name", "email", "phone", "password", "address", "role", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "maiyer"], ["last_name", "Hernandez"], ["email", "maiyerpro@gmail.com"], ["phone", "1234567890"], ["password", "[FILTERED]"], ["address", "1234 Main St, Anytown, USA"], ["role", "ADMINISTRADOR"], ["created_at", "2024-09-06 21:43:25.102567"], ["updated_at", "2024-09-06 21:43:25.102567"], ["password_digest", "[FILTERED]"]]
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:9:in `signup'
Completed 201 Created in 231ms (Views: 0.4ms | ActiveRecord: 5.6ms | Allocations: 2984)


Started POST "/login" for 45.238.146.4 at 2024-09-06 16:44:14 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"maiyerpro@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"maiyerpro@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "maiyerpro@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 224ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 676)


Started POST "/login" for 45.238.146.4 at 2024-09-06 16:45:16 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 221ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 602)


Started POST "/login" for 45.238.146.4 at 2024-09-06 16:45:29 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 216ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 675)


Started POST "/login" for 45.238.146.4 at 2024-09-06 16:47:55 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 205ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 678)


Started POST "/register" for 45.238.146.4 at 2024-09-06 16:56:15 -0500
  
ActionController::RoutingError (No route matches [POST] "/register"):
  
Started POST "/register" for 45.238.146.4 at 2024-09-06 16:56:35 -0500
  
ActionController::RoutingError (No route matches [POST] "/register"):
  
Started POST "/signup" for 45.238.146.4 at 2024-09-06 16:59:27 -0500
Processing by UsersController#signup as */*
  Parameters: {"nombre"=>"Rosa", "apellido"=>"Nieto", "telefono"=>"3002658984", "direccion"=>"K21 A3 F", "email"=>"Rosa@gmail.com", "password"=>"[FILTERED]", "rol"=>"CLIENTE", "user"=>{"email"=>"Rosa@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "last_name", "email", "phone", "password", "address", "role", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", nil], ["last_name", nil], ["email", "Rosa@gmail.com"], ["phone", nil], ["password", "[FILTERED]"], ["address", nil], ["role", nil], ["created_at", "2024-09-06 21:59:27.293991"], ["updated_at", "2024-09-06 21:59:27.293991"], ["password_digest", "[FILTERED]"]]
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:9:in `signup'
Completed 201 Created in 206ms (Views: 0.4ms | ActiveRecord: 3.3ms | Allocations: 2340)


Started GET "/users" for 45.238.146.4 at 2024-09-06 16:59:46 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.2ms | Allocations: 1227)


Started POST "/signup" for 45.238.146.4 at 2024-09-06 17:24:37 -0500
Processing by UsersController#signup as */*
  Parameters: {"nombre"=>"Rosa", "apellido"=>"Nieto", "telefono"=>"3005964545", "direccion"=>"Kr21 A3K", "email"=>"Rosa@gmail.com", "password"=>"[FILTERED]", "rol"=>"CLIENTE", "user"=>{"email"=>"Rosa@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mUser Create (2.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "last_name", "email", "phone", "password", "address", "role", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", nil], ["last_name", nil], ["email", "Rosa@gmail.com"], ["phone", nil], ["password", "[FILTERED]"], ["address", nil], ["role", nil], ["created_at", "2024-09-06 22:24:37.274486"], ["updated_at", "2024-09-06 22:24:37.274486"], ["password_digest", "[FILTERED]"]]
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:9:in `signup'
Completed 201 Created in 223ms (Views: 0.3ms | ActiveRecord: 4.1ms | Allocations: 2344)


Started GET "/users" for 45.238.146.4 at 2024-09-06 17:24:56 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms | Allocations: 1237)


Started POST "/signup" for 45.238.146.4 at 2024-09-06 17:28:49 -0500
Processing by UsersController#signup as */*
  Parameters: {"nombre"=>"maria", "apellido"=>"roseto", "telefono"=>"3005454681", "direccion"=>"Kr21 A3k", "email"=>"maria@gmail.com", "password"=>"[FILTERED]", "rol"=>"CLIENTE", "user"=>{"email"=>"maria@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mUser Create (4.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "last_name", "email", "phone", "password", "address", "role", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", nil], ["last_name", nil], ["email", "maria@gmail.com"], ["phone", nil], ["password", "[FILTERED]"], ["address", nil], ["role", nil], ["created_at", "2024-09-06 22:28:49.246885"], ["updated_at", "2024-09-06 22:28:49.246885"], ["password_digest", "[FILTERED]"]]
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:9:in `signup'
Completed 201 Created in 210ms (Views: 0.3ms | ActiveRecord: 4.4ms | Allocations: 2118)


Started GET "/users" for 45.238.146.4 at 2024-09-06 17:29:35 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.1ms | Allocations: 1276)


Started POST "/signup" for 45.238.146.4 at 2024-09-06 17:33:54 -0500
Processing by UsersController#signup as */*
  Parameters: {"name"=>"mays", "last_name"=>"hernandez", "phone"=>"3215987451", "address"=>"De su Casa", "email"=>"mays@gmail.com", "password"=>"[FILTERED]", "role"=>"CLIENTE", "user"=>{"name"=>"mays", "last_name"=>"hernandez", "email"=>"mays@gmail.com", "phone"=>"3215987451", "password"=>"[FILTERED]", "address"=>"De su Casa", "role"=>"CLIENTE"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mUser Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "mays@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "last_name", "email", "phone", "password", "address", "role", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "mays"], ["last_name", "hernandez"], ["email", "mays@gmail.com"], ["phone", "3215987451"], ["password", "[FILTERED]"], ["address", "De su Casa"], ["role", "CLIENTE"], ["created_at", "2024-09-06 22:33:54.468044"], ["updated_at", "2024-09-06 22:33:54.468044"], ["password_digest", "[FILTERED]"]]
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:9:in `signup'
Completed 201 Created in 245ms (Views: 1.6ms | ActiveRecord: 6.5ms | Allocations: 7658)


Started GET "/users" for 45.238.146.4 at 2024-09-06 17:34:04 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 1.7ms | Allocations: 1460)


Started POST "/signup" for 45.238.146.4 at 2024-09-06 17:40:39 -0500
Processing by UsersController#signup as */*
  Parameters: {"user"=>{"name"=>"David", "last_name"=>"Gulloso", "phone"=>"3205698747", "address"=>"K421 H12", "email"=>"david@gmail.com", "password"=>"[FILTERED]", "role"=>"CLIENTE"}}
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mUser Exists? (3.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "last_name", "email", "phone", "password", "address", "role", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "David"], ["last_name", "Gulloso"], ["email", "david@gmail.com"], ["phone", "3205698747"], ["password", "[FILTERED]"], ["address", "K421 H12"], ["role", "CLIENTE"], ["created_at", "2024-09-06 22:40:40.062312"], ["updated_at", "2024-09-06 22:40:40.062312"], ["password_digest", "[FILTERED]"]]
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:9:in `signup'
Completed 200 OK in 285ms (Views: 0.7ms | ActiveRecord: 6.9ms | Allocations: 7941)


Started POST "/login" for 45.238.146.4 at 2024-09-06 17:40:56 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"david@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 207ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 889)


Started POST "/signup" for 45.238.146.4 at 2024-09-06 17:51:56 -0500
Processing by UsersController#signup as */*
  Parameters: {"user"=>{"name"=>"maiyer", "last_name"=>"nieto", "phone"=>"3001257455", "address"=>"Kr 21 A10", "email"=>"maiyerp@gmail.com", "password"=>"[FILTERED]", "role"=>"CLIENTE"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mUser Exists? (39.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "maiyerp@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "last_name", "email", "phone", "password", "address", "role", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "maiyer"], ["last_name", "nieto"], ["email", "maiyerp@gmail.com"], ["phone", "3001257455"], ["password", "[FILTERED]"], ["address", "Kr 21 A10"], ["role", "CLIENTE"], ["created_at", "2024-09-06 22:51:56.632633"], ["updated_at", "2024-09-06 22:51:56.632633"], ["password_digest", "[FILTERED]"]]
  ↳ app/controllers/users_controller.rb:9:in `signup'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:9:in `signup'
Completed 200 OK in 249ms (Views: 0.3ms | ActiveRecord: 41.7ms | Allocations: 3204)


Started POST "/login" for 45.238.146.4 at 2024-09-06 17:52:07 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"maiyerp@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"maiyerp@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "maiyerp@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 204ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 641)


Started POST "/login" for 45.238.146.4 at 2024-09-06 17:52:12 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"maiyerp@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"maiyerp@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "maiyerp@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 209ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 675)


Started POST "/login" for 45.238.146.4 at 2024-09-06 17:53:25 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"", "password"=>"[FILTERED]", "user"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 565)


Started POST "/login" for 45.238.146.4 at 2024-09-06 17:53:25 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"", "password"=>"[FILTERED]", "user"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 565)


Started POST "/login" for 45.238.146.4 at 2024-09-06 17:53:28 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"", "password"=>"[FILTERED]", "user"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 565)


Started POST "/login" for 45.238.146.4 at 2024-09-06 17:55:43 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"", "password"=>"[FILTERED]", "user"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 11ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 565)


Started POST "/login" for 45.238.146.4 at 2024-09-06 17:58:47 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"email"=>"", "password"=>"[FILTERED]", "user"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 15ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 5272)


Started GET "/" for 45.238.146.4 at 2024-09-07 18:19:40 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.8ms | Allocations: 386)
Completed 200 OK in 18ms (Views: 5.8ms | ActiveRecord: 0.0ms | Allocations: 4454)


Started GET "/users" for 45.238.146.4 at 2024-09-07 18:19:45 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 94ms (Views: 69.6ms | ActiveRecord: 3.1ms | Allocations: 17780)


Started GET "/users" for 45.238.146.4 at 2024-09-07 18:21:16 -0500
Processing by UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms | Allocations: 1656)


Started POST "/login" for 45.238.146.4 at 2024-09-07 18:21:33 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"Alan@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"Alan@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "Alan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 279ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 3088)


Started GET "/api/productos" for 45.238.146.4 at 2024-09-07 18:42:39 -0500
  
ActionController::RoutingError (uninitialized constant Api

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started GET "/api/productos" for 45.238.146.4 at 2024-09-07 18:42:54 -0500
  
ActionController::RoutingError (uninitialized constant Api

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started GET "/api/productos" for 45.238.146.4 at 2024-09-07 18:43:24 -0500
  
ActionController::RoutingError (uninitialized constant Api

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started GET "/api/productos" for 45.238.146.4 at 2024-09-07 18:43:38 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant Api

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started GET "/productos" for 45.238.146.4 at 2024-09-07 18:44:12 -0500
Processing by ProductsController#index as */*
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 24ms (Views: 1.2ms | ActiveRecord: 1.3ms | Allocations: 11328)


Started POST "/createproducto" for 45.238.146.4 at 2024-09-07 18:58:05 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as */*
  Parameters: {"name"=>"Acetaminofen", "description"=>"Cura Cualquier enfermedad", "price"=>800, "image"=>"http://example.com/image.jpg", "category_id"=>1, "stock"=>50, "supplier_id"=>2, "product"=>{"name"=>"Acetaminofen", "description"=>"Cura Cualquier enfermedad", "price"=>800, "image"=>"http://example.com/image.jpg", "category_id"=>1, "stock"=>50, "supplier_id"=>2}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:9:in `create'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:9:in `create'
  [1m[36mSupplier Load (0.2ms)[0m  [1m[34mSELECT "suppliers".* FROM "suppliers" WHERE "suppliers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/products_controller.rb:9:in `create'
Completed 422 Unprocessable Content in 62ms (Views: 3.0ms | ActiveRecord: 3.9ms | Allocations: 22074)


  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/categories" for 45.238.146.4 at 2024-09-07 19:09:00 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CategoriesController#create as */*
  Parameters: {"category"=>{"name"=>"Medicamentos", "description"=>"pastillas Usadas Regularmente", "offers"=>0}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/categories_controller.rb:15:in `create'
  [1m[36mCategory Create (1.9ms)[0m  [1m[32mINSERT INTO "categories" ("name", "description", "offers", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Medicamentos"], ["description", "pastillas Usadas Regularmente"], ["offers", 0], ["created_at", "2024-09-08 00:09:01.034854"], ["updated_at", "2024-09-08 00:09:01.034854"]]
  ↳ app/controllers/categories_controller.rb:15:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/categories_controller.rb:15:in `create'
Completed 201 Created in 37ms (Views: 0.5ms | ActiveRecord: 5.5ms | Allocations: 12445)


Started POST "/suppliers" for 45.238.146.4 at 2024-09-07 19:10:15 -0500
Processing by SuppliersController#create as */*
  Parameters: {"supplier"=>{"name"=>"FamiSaludLa91", "email"=>"FamiSalud@gmail.com", "phone"=>"123-456-7890", "address"=>"123 New Street"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/suppliers_controller.rb:15:in `create'
  [1m[36mSupplier Create (2.7ms)[0m  [1m[32mINSERT INTO "suppliers" ("name", "email", "phone", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "FamiSaludLa91"], ["email", "FamiSalud@gmail.com"], ["phone", "123-456-7890"], ["address", "123 New Street"], ["created_at", "2024-09-08 00:10:15.315262"], ["updated_at", "2024-09-08 00:10:15.315262"]]
  ↳ app/controllers/suppliers_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/suppliers_controller.rb:15:in `create'
Completed 201 Created in 15ms (Views: 0.2ms | ActiveRecord: 3.1ms | Allocations: 7223)


Started POST "/createproducto" for 45.238.146.4 at 2024-09-07 19:10:27 -0500
Processing by ProductsController#create as */*
  Parameters: {"name"=>"Acetaminofen", "description"=>"Cura Cualquier enfermedad", "price"=>800, "image"=>"http://example.com/image.jpg", "category_id"=>1, "stock"=>50, "supplier_id"=>1, "product"=>{"name"=>"Acetaminofen", "description"=>"Cura Cualquier enfermedad", "price"=>800, "image"=>"http://example.com/image.jpg", "category_id"=>1, "stock"=>50, "supplier_id"=>1}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:9:in `create'
  [1m[36mCategory Load (1.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:9:in `create'
  [1m[36mSupplier Load (0.1ms)[0m  [1m[34mSELECT "suppliers".* FROM "suppliers" WHERE "suppliers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:9:in `create'
  [1m[36mProduct Create (4.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "image", "category_id", "stock", "supplier_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Acetaminofen"], ["description", "Cura Cualquier enfermedad"], ["price", 800], ["image", "http://example.com/image.jpg"], ["category_id", 1], ["stock", 50], ["supplier_id", 1], ["created_at", "2024-09-08 00:10:27.353231"], ["updated_at", "2024-09-08 00:10:27.353231"]]
  ↳ app/controllers/products_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:9:in `create'
Completed 201 Created in 40ms (Views: 0.3ms | ActiveRecord: 2.4ms | Allocations: 13432)


Started GET "/productos" for 45.238.146.4 at 2024-09-07 19:10:37 -0500
Processing by ProductsController#index as */*
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.1ms | Allocations: 974)


Started POST "/login" for 45.238.146.4 at 2024-09-07 19:17:42 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"maiyer@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"maiyer@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "maiyer@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 25ms (Views: 0.5ms | ActiveRecord: 3.1ms | Allocations: 6557)


Started POST "/login" for 45.238.146.4 at 2024-09-07 19:17:51 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"maiyerpro@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"maiyerpro@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "maiyerpro@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 212ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 750)


Started POST "/login" for 45.238.146.4 at 2024-09-07 19:19:19 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 197ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 680)


Started POST "/login" for 45.238.146.4 at 2024-09-07 19:37:28 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"maiyerpro@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"maiyerpro@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "maiyerpro@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 201ms (Views: 0.5ms | ActiveRecord: 1.4ms | Allocations: 940)


Started POST "/login" for 45.238.146.4 at 2024-09-07 19:37:46 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 208ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 676)


Started POST "/login" for 45.238.146.4 at 2024-09-07 19:42:41 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 220ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 699)


Started POST "/login" for 45.238.146.4 at 2024-09-07 20:05:45 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 207ms (Views: 1.5ms | ActiveRecord: 1.5ms | Allocations: 938)


Started POST "/login" for 45.238.146.4 at 2024-09-07 20:10:02 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 208ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 675)


Started POST "/login" for 45.238.146.4 at 2024-09-07 20:12:30 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 235ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 675)


Started GET "/users" for 45.238.146.4 at 2024-09-07 20:21:18 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 69ms (Views: 27.8ms | ActiveRecord: 2.2ms | Allocations: 20087)


Started POST "/login" for 45.238.146.4 at 2024-09-07 20:27:11 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 219ms (Views: 0.6ms | ActiveRecord: 3.5ms | Allocations: 13535)


Started POST "/login" for 45.238.146.4 at 2024-09-07 20:28:16 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 208ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 782)


Started GET "/users" for 45.238.146.4 at 2024-09-07 20:39:30 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 40ms (Views: 10.3ms | ActiveRecord: 2.8ms | Allocations: 20089)


Started GET "/productos" for 45.238.146.4 at 2024-09-07 20:39:38 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 14ms (Views: 9.8ms | ActiveRecord: 0.8ms | Allocations: 8813)


Started POST "/login" for 45.238.146.4 at 2024-09-07 20:40:17 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 234ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 3107)


Started GET "/productos" for 45.238.146.4 at 2024-09-07 20:43:00 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.1ms | Allocations: 796)


Started GET "/productos" for 45.238.146.4 at 2024-09-07 20:44:56 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 52ms (Views: 20.7ms | ActiveRecord: 3.2ms | Allocations: 19296)


Started POST "/login" for 45.238.146.4 at 2024-09-07 20:45:45 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 241ms (Views: 0.7ms | ActiveRecord: 0.6ms | Allocations: 7956)


Started GET "/productos" for 45.238.146.4 at 2024-09-07 20:49:31 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 48ms (Views: 26.2ms | ActiveRecord: 2.0ms | Allocations: 19294)


Started GET "/productos" for 45.238.146.4 at 2024-09-07 20:50:05 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms | Allocations: 894)


Started GET "/favicon.ico" for 45.238.146.4 at 2024-09-07 20:50:06 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/" for ::1 at 2024-09-07 20:54:16 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.8ms | Allocations: 386)
Completed 200 OK in 22ms (Views: 7.7ms | ActiveRecord: 0.0ms | Allocations: 4454)


Started GET "/" for 45.238.146.4 at 2024-09-07 20:55:25 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.1ms | Allocations: 15)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 224)


Started POST "/login" for 45.238.146.4 at 2024-09-07 20:56:32 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 226ms (Views: 0.5ms | ActiveRecord: 5.3ms | Allocations: 11216)


Started GET "/productos" for 45.238.146.4 at 2024-09-07 21:07:33 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 90ms (Views: 66.2ms | ActiveRecord: 2.7ms | Allocations: 9096)


Started GET "/productos" for 45.238.146.4 at 2024-09-07 21:42:47 -0500
Processing by ProductsController#index as */*
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 8ms (Views: 5.0ms | ActiveRecord: 2.6ms | Allocations: 1067)


Started POST "/login" for 45.238.146.4 at 2024-09-07 21:44:02 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 249ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 756)


Started GET "/productos" for 45.238.146.4 at 2024-09-07 22:07:13 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 54ms (Views: 22.5ms | ActiveRecord: 2.1ms | Allocations: 19297)


Started GET "/productos" for 45.238.146.4 at 2024-09-07 23:30:39 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 38ms (Views: 21.9ms | ActiveRecord: 1.8ms | Allocations: 19311)


Started GET "/productos" for 45.238.146.4 at 2024-09-07 23:36:11 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.6ms | Allocations: 894)


Started GET "/login" for 45.238.146.4 at 2024-09-07 23:46:12 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/login"):
  
Started GET "/favicon.ico" for 45.238.146.4 at 2024-09-07 23:46:12 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started POST "/login" for 45.238.146.4 at 2024-09-07 23:46:22 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"Alan@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"Alan@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "Alan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 219ms (Views: 0.6ms | ActiveRecord: 2.3ms | Allocations: 11255)


Started GET "/" for 45.238.146.4 at 2024-09-08 00:07:21 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.8ms | Allocations: 386)
Completed 200 OK in 25ms (Views: 6.9ms | ActiveRecord: 0.0ms | Allocations: 4454)


Started GET "/productos" for 45.238.146.4 at 2024-09-08 00:07:31 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 40ms (Views: 12.4ms | ActiveRecord: 3.1ms | Allocations: 16986)


Started POST "/login" for 45.238.146.4 at 2024-09-08 00:08:10 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"Alan@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"Alan@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "Alan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 323ms (Views: 0.6ms | ActiveRecord: 7.1ms | Allocations: 7956)


Started POST "/login" for 45.238.146.4 at 2024-09-08 00:18:55 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 244ms (Views: 0.6ms | ActiveRecord: 2.8ms | Allocations: 20004)


Started GET "/" for 45.238.146.4 at 2024-09-08 00:21:01 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.1ms | Allocations: 384)
Completed 200 OK in 15ms (Views: 5.3ms | ActiveRecord: 0.0ms | Allocations: 4381)


Started POST "/login" for 45.238.146.4 at 2024-09-08 00:25:13 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 1.7ms | Allocations: 20013)


Started POST "/login" for 45.238.146.4 at 2024-09-08 00:25:57 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 213ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 787)


Started GET "/productos" for 45.238.146.4 at 2024-09-08 00:29:15 -0500
Processing by ProductsController#index as */*
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 14ms (Views: 9.9ms | ActiveRecord: 0.7ms | Allocations: 8816)


Started GET "/" for 45.238.146.4 at 2024-09-08 09:30:28 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 4.2ms | Allocations: 386)
Completed 200 OK in 40ms (Views: 11.7ms | ActiveRecord: 0.0ms | Allocations: 4442)


Started GET "/productos" for 45.238.146.4 at 2024-09-08 09:30:34 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 41ms (Views: 16.2ms | ActiveRecord: 2.7ms | Allocations: 16979)


Started POST "/" for 45.238.146.4 at 2024-09-08 09:34:24 -0500
  
ActionController::RoutingError (No route matches [POST] "/"):
  
Started POST "/" for 45.238.146.4 at 2024-09-08 09:34:48 -0500
  
ActionController::RoutingError (No route matches [POST] "/"):
  
Started POST "/login" for 45.238.146.4 at 2024-09-08 09:39:34 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 226ms (Views: 0.5ms | ActiveRecord: 1.9ms | Allocations: 9860)


Started POST "/login" for 45.238.146.4 at 2024-09-08 10:18:55 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 203ms (Views: 0.6ms | ActiveRecord: 2.9ms | Allocations: 1002)


Started POST "/login" for 45.238.146.4 at 2024-09-08 10:43:23 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 291ms (Views: 1.1ms | ActiveRecord: 1.5ms | Allocations: 970)


Started GET "/productos" for 45.238.146.4 at 2024-09-08 10:45:12 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms | Allocations: 826)


Started GET "/favicon.ico" for 45.238.146.4 at 2024-09-08 10:45:12 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started POST "/login" for 45.238.146.4 at 2024-09-08 10:48:01 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 200ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 680)


Started POST "/login" for 45.238.146.4 at 2024-09-08 10:54:58 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 206ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 956)


Started POST "/login" for 45.238.146.4 at 2024-09-08 10:55:58 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 202ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 680)


Started GET "/productos" for 45.238.146.4 at 2024-09-08 11:01:55 -0500
Processing by ProductsController#index as */*
  [1m[36mProduct Load (2.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 4.0ms | Allocations: 1043)


Started POST "/login" for 45.238.146.4 at 2024-09-08 12:00:22 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 202ms (Views: 0.8ms | ActiveRecord: 1.8ms | Allocations: 945)


Started GET "/" for 45.238.146.4 at 2024-09-08 12:01:55 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.4ms | Allocations: 19)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 213)


Started GET "/favicon.ico" for 45.238.146.4 at 2024-09-08 12:02:02 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/productos" for 45.238.146.4 at 2024-09-08 12:02:07 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms | Allocations: 816)


Started POST "/login" for 45.238.146.4 at 2024-09-08 12:11:16 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sifia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sifia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 4ms (Views: 1.0ms | ActiveRecord: 1.5ms | Allocations: 834)


Started POST "/login" for 45.238.146.4 at 2024-09-08 12:11:24 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 207ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 680)


Started POST "/login" for 45.238.146.4 at 2024-09-08 12:28:32 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 210ms (Views: 0.6ms | ActiveRecord: 1.7ms | Allocations: 944)


Started POST "/login" for 45.238.146.4 at 2024-09-08 14:45:30 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 205ms (Views: 1.3ms | ActiveRecord: 2.3ms | Allocations: 943)


Started POST "/login" for 45.238.146.4 at 2024-09-08 14:49:34 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 234ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 683)


Started GET "/productos" for 45.238.146.4 at 2024-09-08 14:49:35 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms | Allocations: 816)


Started POST "/login" for 45.238.146.4 at 2024-09-08 15:21:33 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com ", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com "], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 11ms (Views: 7.6ms | ActiveRecord: 1.6ms | Allocations: 832)


Started POST "/login" for 45.238.146.4 at 2024-09-08 15:21:36 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com ", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com "], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 569)


Started GET "/" for 45.238.146.4 at 2024-09-08 15:27:21 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 25.5ms | Allocations: 15)
Completed 200 OK in 28ms (Views: 27.1ms | ActiveRecord: 0.0ms | Allocations: 188)


Started GET "/productos" for 45.238.146.4 at 2024-09-08 15:27:28 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 1.2ms | Allocations: 1041)


Started GET "/productos" for 45.238.146.4 at 2024-09-08 15:27:41 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.1ms | Allocations: 781)


Started GET "/favicon.ico" for 45.238.146.4 at 2024-09-08 15:27:41 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started POST "/login" for 45.238.146.4 at 2024-09-08 15:34:33 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 221ms (Views: 0.4ms | ActiveRecord: 3.7ms | Allocations: 943)


Started GET "/productos" for 45.238.146.4 at 2024-09-08 15:34:34 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.6ms | Allocations: 816)


Started POST "/login" for 45.238.146.4 at 2024-09-08 15:44:16 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 234ms (Views: 0.4ms | ActiveRecord: 5.6ms | Allocations: 942)


Started POST "/login" for 45.238.146.4 at 2024-09-08 15:45:04 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 223ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 679)


Started POST "/login" for 45.238.146.4 at 2024-09-08 15:46:25 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 230ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 679)


Started GET "/productos" for 45.238.146.4 at 2024-09-08 15:46:27 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 17ms (Views: 16.3ms | ActiveRecord: 0.2ms | Allocations: 816)


Started POST "/login" for 45.238.146.4 at 2024-09-08 16:32:37 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (28.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 228ms (Views: 0.6ms | ActiveRecord: 55.5ms | Allocations: 942)


Started GET "/productos" for 45.238.146.4 at 2024-09-08 16:32:39 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.2ms | Allocations: 816)


Started POST "/login" for 45.238.146.4 at 2024-09-08 16:35:31 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 199ms (Views: 2.7ms | ActiveRecord: 0.1ms | Allocations: 679)


Started GET "/productos" for 45.238.146.4 at 2024-09-08 16:35:33 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms | Allocations: 781)


Started POST "/createproducto" for 45.238.146.4 at 2024-09-08 16:40:09 -0500
Processing by ProductsController#create as */*
  Parameters: {"name"=>"Amosicilina", "description"=>"Cura Gripe u otras cosas", "price"=>800, "image"=>"FamiSaludLa91Mobile/famisaludla91/lib/imagenes/Amoxicilina.jpg", "category_id"=>1, "stock"=>50, "supplier_id"=>1}
Completed 400 Bad Request in 12ms (ActiveRecord: 0.0ms | Allocations: 210)


  
ActionController::ParameterMissing (param is missing or the value is empty: product):
  
app/controllers/products_controller.rb:19:in `product_params'
app/controllers/products_controller.rb:8:in `create'
Started POST "/createproducto" for 45.238.146.4 at 2024-09-08 16:40:34 -0500
Processing by ProductsController#create as */*
  Parameters: {"name"=>"Amosicilina", "description"=>"Cura Gripe u otras cosas", "price"=>800, "image"=>"FamiSaludLa91Mobile/famisaludla91/lib/imagenes/Amoxicilina.jpg", "category_id"=>1, "stock"=>50, "supplier_id"=>1}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 168)


  
ActionController::ParameterMissing (param is missing or the value is empty: product):
  
app/controllers/products_controller.rb:19:in `product_params'
app/controllers/products_controller.rb:8:in `create'
Started POST "/createproducto" for 45.238.146.4 at 2024-09-08 16:41:17 -0500
Processing by ProductsController#create as */*
  Parameters: {"name"=>"Amosicilina", "description"=>"Cura Gripe u otras cosas", "price"=>800, "image"=>"/lib/imagenes/Amoxicilina.jpg", "category_id"=>1, "stock"=>50, "supplier_id"=>1}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 145)


  
ActionController::ParameterMissing (param is missing or the value is empty: product):
  
app/controllers/products_controller.rb:19:in `product_params'
app/controllers/products_controller.rb:8:in `create'
Started GET "/" for 45.238.146.4 at 2024-09-09 21:23:59 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.0ms | Allocations: 386)
Completed 200 OK in 22ms (Views: 4.6ms | ActiveRecord: 0.0ms | Allocations: 4442)


Started GET "/productos" for 45.238.146.4 at 2024-09-09 21:24:15 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 39ms (Views: 10.6ms | ActiveRecord: 2.7ms | Allocations: 16978)


Started POST "/login" for 45.238.146.4 at 2024-09-09 21:25:44 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 261ms (Views: 3.5ms | ActiveRecord: 0.4ms | Allocations: 9553)


Started POST "/login" for 2803:1800:5004:6792:7dd7:fe5a:b7b2:6f70 at 2024-09-09 23:24:17 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com ", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com "], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 8ms (Views: 0.8ms | ActiveRecord: 2.6ms | Allocations: 893)


Started POST "/login" for 191.95.21.232 at 2024-09-09 23:24:17 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com ", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com "], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 590)


Started POST "/login" for 191.95.21.232 at 2024-09-09 23:24:24 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 196ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 695)


Started GET "/productos" for 191.95.21.232 at 2024-09-09 23:24:25 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 16ms (Views: 3.7ms | ActiveRecord: 0.3ms | Allocations: 825)


Started GET "/" for 45.238.146.4 at 2024-09-10 19:02:32 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.8ms | Allocations: 386)
Completed 200 OK in 18ms (Views: 6.1ms | ActiveRecord: 0.0ms | Allocations: 4442)


Started GET "/" for 45.238.146.4 at 2024-09-10 19:02:32 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.1ms | Allocations: 15)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 221)


Started GET "/productos" for 45.238.146.4 at 2024-09-10 19:02:39 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 48ms (Views: 14.5ms | ActiveRecord: 3.1ms | Allocations: 16978)


Started GET "/" for 45.238.146.4 at 2024-09-10 19:48:03 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.3ms | Allocations: 386)
Completed 200 OK in 16ms (Views: 7.2ms | ActiveRecord: 0.0ms | Allocations: 4442)


Started POST "/login" for 45.238.146.4 at 2024-09-10 19:48:17 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"Alan@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "Alan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 200 OK in 362ms (Views: 0.8ms | ActiveRecord: 18.1ms | Allocations: 17708)


Started POST "/login" for 45.238.146.4 at 2024-09-10 21:34:57 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"email"=>"Alan@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "Alan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 500 Internal Server Error in 250ms (ActiveRecord: 3.1ms | Allocations: 21892)


  
NameError (uninitialized constant UsersController::JWT

    JWT.encode({ user_id: user_id, exp: 24.hours.from_now.to_i }, Rails.application.secrets.secret_key_base)
    ^^^):
  
app/controllers/users_controller.rb:39:in `generate_token'
app/controllers/users_controller.rb:20:in `login'
Started GET "/" for 45.238.146.4 at 2024-09-10 21:35:06 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.7ms | Allocations: 294)
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.0ms | Allocations: 2041)


Started POST "/login" for 45.238.146.4 at 2024-09-10 21:35:20 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"Alan@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "Alan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 500 Internal Server Error in 218ms (ActiveRecord: 0.1ms | Allocations: 2914)


  
NameError (uninitialized constant UsersController::JWT

    JWT.encode({ user_id: user_id, exp: 24.hours.from_now.to_i }, Rails.application.secrets.secret_key_base)
    ^^^):
  
app/controllers/users_controller.rb:39:in `generate_token'
app/controllers/users_controller.rb:20:in `login'
Started POST "/login" for 45.238.146.4 at 2024-09-10 21:44:07 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"email"=>"Alan@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "Alan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
Completed 500 Internal Server Error in 249ms (ActiveRecord: 2.4ms | Allocations: 21894)


  
NameError (uninitialized constant UsersController::JWT

    JWT.encode({ user_id: user_id, exp: 24.hours.from_now.to_i }, Rails.application.secrets.secret_key_base)
    ^^^):
  
app/controllers/users_controller.rb:39:in `generate_token'
app/controllers/users_controller.rb:20:in `login'
Started POST "/login" for 45.238.146.4 at 2024-09-10 21:46:04 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"email"=>"Alan@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "Alan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:39)
Completed 200 OK in 236ms (Views: 0.6ms | ActiveRecord: 3.1ms | Allocations: 20363)


Started POST "/login" for 45.238.146.4 at 2024-09-10 21:56:40 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:40)
Completed 200 OK in 208ms (Views: 0.4ms | ActiveRecord: 1.5ms | Allocations: 6528)


Started POST "/login" for 45.238.146.4 at 2024-09-10 22:47:53 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:40)
Completed 200 OK in 208ms (Views: 0.5ms | ActiveRecord: 1.8ms | Allocations: 1130)


Started GET "/" for 45.238.146.4 at 2024-09-10 22:49:04 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 4.5ms | Allocations: 384)
Completed 200 OK in 25ms (Views: 10.6ms | ActiveRecord: 0.0ms | Allocations: 4382)


Started POST "/login" for 45.238.146.4 at 2024-09-10 22:52:47 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:17:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:40)
Completed 200 OK in 204ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1022)


Started GET "/productos" for 45.238.146.4 at 2024-09-10 22:52:48 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (2.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 22ms (Views: 11.8ms | ActiveRecord: 3.6ms | Allocations: 8803)


Started GET "/productos" for 45.238.146.4 at 2024-09-10 23:09:27 -0500
Processing by ProductsController#index as */*
  [1m[36mProduct Load (2.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 6ms (Views: 1.6ms | ActiveRecord: 3.7ms | Allocations: 1090)


  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddPasswordDigestToUsers (20240906142525)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "last_name" varchar(30) DEFAULT NULL, "email" varchar(80) DEFAULT NULL, "phone" varchar(10) DEFAULT NULL, "password" varchar(100) DEFAULT NULL, "address" varchar(200) DEFAULT NULL, "role" varchar(50) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "password_digest" varchar DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","name","last_name","email","phone","password","address","role","created_at","updated_at","password_digest")
                     SELECT "id","name","last_name","email","phone","password","address","role","created_at","updated_at","password_digest" FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "last_name" varchar(30) DEFAULT NULL, "email" varchar(80) DEFAULT NULL, "phone" varchar(10) DEFAULT NULL, "password" varchar(100) DEFAULT NULL, "address" varchar(200) DEFAULT NULL, "role" varchar(50) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id","name","last_name","email","phone","password","address","role","created_at","updated_at")
                     SELECT "id","name","last_name","email","phone","password","address","role","created_at","updated_at" FROM "ausers"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240906142525'[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddPasswordDigestToUsers (20240906142525)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240906142525') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/login" for 45.238.146.4 at 2024-09-10 23:38:39 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
Completed 401 Unauthorized in 47ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 19776)


Started POST "/login" for 45.238.146.4 at 2024-09-10 23:38:43 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
Completed 401 Unauthorized in 4ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 700)


Started POST "/login" for 45.238.146.4 at 2024-09-10 23:38:52 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 609)


Started POST "/login" for 45.238.146.4 at 2024-09-10 23:39:08 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"Alan@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "Alan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 595)


Started POST "/login" for 45.238.146.4 at 2024-09-10 23:43:35 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
Completed 401 Unauthorized in 3ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 592)


Started GET "/" for 45.238.146.4 at 2024-09-10 23:45:28 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.0ms | Allocations: 384)
Completed 200 OK in 16ms (Views: 5.7ms | ActiveRecord: 0.0ms | Allocations: 4382)


Started POST "//signup" for 45.238.146.4 at 2024-09-10 23:48:42 -0500
Processing by UsersController#signup as */*
  Parameters: {"user"=>{"name"=>"sofia", "last_name"=>"Hernandez", "email"=>"sofia@gmail.com", "phone"=>"1234567890", "password"=>"[FILTERED]", "address"=>"1234 Main St, Anytown, USA", "role"=>"CLIENTE"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
Completed 422 Unprocessable Content in 261ms (Views: 0.2ms | ActiveRecord: 2.6ms | Allocations: 9695)


Started POST "//signup" for 45.238.146.4 at 2024-09-10 23:48:52 -0500
Processing by UsersController#signup as */*
  Parameters: {"user"=>{"name"=>"sofia", "last_name"=>"Hernandez", "email"=>"sofia1@gmail.com", "phone"=>"1234567890", "password"=>"[FILTERED]", "address"=>"1234 Main St, Anytown, USA", "role"=>"CLIENTE"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia1@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "last_name", "email", "phone", "address", "role", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "sofia"], ["last_name", "Hernandez"], ["email", "sofia1@gmail.com"], ["phone", "1234567890"], ["address", "1234 Main St, Anytown, USA"], ["role", "CLIENTE"], ["created_at", "2024-09-11 04:48:52.901022"], ["updated_at", "2024-09-11 04:48:52.901022"], ["password_digest", "[FILTERED]"]]
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
Completed 200 OK in 245ms (Views: 0.3ms | ActiveRecord: 2.9ms | Allocations: 3578)


Started POST "/login" for 45.238.146.4 at 2024-09-10 23:49:15 -0500
Processing by UsersController#login as */*
  Parameters: {"email"=>"sofia1@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia1@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 230ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1276)


Started POST "/login" for 45.238.146.4 at 2024-09-10 23:52:06 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 593)


Started POST "/login" for 45.238.146.4 at 2024-09-10 23:52:11 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"sofia1@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia1@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 205ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 839)


Started GET "/productos" for 45.238.146.4 at 2024-09-10 23:52:13 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 200 OK in 16ms (Views: 11.6ms | ActiveRecord: 0.7ms | Allocations: 8785)


Started POST "/signup" for 45.238.146.4 at 2024-09-10 23:57:35 -0500
Processing by UsersController#signup as HTML
  Parameters: {"user"=>{"name"=>"maiyer", "last_name"=>"nieto", "phone"=>"3005286946", "address"=>"Kr22A12", "email"=>"maiyer@gmail.com", "password"=>"[FILTERED]", "role"=>"CLIENTE"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "maiyer@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
Completed 422 Unprocessable Content in 207ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 2759)


Started POST "/signup" for 45.238.146.4 at 2024-09-10 23:57:45 -0500
Processing by UsersController#signup as HTML
  Parameters: {"user"=>{"name"=>"maiyer", "last_name"=>"nieto", "phone"=>"3005286946", "address"=>"Kr22A12", "email"=>"maiyerpro@gmail.com", "password"=>"[FILTERED]", "role"=>"CLIENTE"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "maiyerpro@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
Completed 422 Unprocessable Content in 203ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 2585)


Started POST "/signup" for 45.238.146.4 at 2024-09-10 23:57:53 -0500
Processing by UsersController#signup as HTML
  Parameters: {"user"=>{"name"=>"maiyer", "last_name"=>"nieto", "phone"=>"3005286946", "address"=>"Kr22A12", "email"=>"maiyern@gmail.com", "password"=>"[FILTERED]", "role"=>"CLIENTE"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mUser Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "maiyern@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "last_name", "email", "phone", "address", "role", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "maiyer"], ["last_name", "nieto"], ["email", "maiyern@gmail.com"], ["phone", "3005286946"], ["address", "Kr22A12"], ["role", "CLIENTE"], ["created_at", "2024-09-11 04:57:53.457358"], ["updated_at", "2024-09-11 04:57:53.457358"], ["password_digest", "[FILTERED]"]]
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
Completed 200 OK in 208ms (Views: 0.3ms | ActiveRecord: 3.6ms | Allocations: 3032)


Started POST "/login" for 45.238.146.4 at 2024-09-10 23:58:08 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"maiyern@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "maiyern@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 204ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 896)


Started GET "/productos" for 45.238.146.4 at 2024-09-10 23:58:10 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (33.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 200 OK in 37ms (Views: 3.8ms | ActiveRecord: 33.4ms | Allocations: 782)


Started POST "/logout" for 45.238.146.4 at 2024-09-10 23:58:13 -0500
Processing by UsersController#logout as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 70)


Started POST "/login" for 45.238.146.4 at 2024-09-10 23:58:15 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 576)


  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateActiveStorageTables (20240911112819)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240911112819') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddServiceNameToActiveStorageBlobs (20240911113245)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240911113245') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240911113246)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE IF NOT EXISTS "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX IF NOT EXISTS "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240911113246') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240911113247)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_blobs_on_key" ON "aactive_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "active_storage_blobs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "active_storage_blobs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "aactive_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactive_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240911113247') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240911113247)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_blobs_on_key" ON "aactive_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "aactive_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactive_storage_blobs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.0ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240911113247'[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240911113247)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_blobs_on_key" ON "aactive_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aactive_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "aactive_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactive_storage_blobs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240911113247') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240911113247)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_blobs_on_key" ON "aactive_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "aactive_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactive_storage_blobs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.0ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240911113247'[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240911113247)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_blobs_on_key" ON "aactive_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "active_storage_blobs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "aactive_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactive_storage_blobs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240911113247') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240911113247)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_blobs_on_key" ON "aactive_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "aactive_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactive_storage_blobs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.0ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240911113247'[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240911113247)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_blobs_on_key" ON "aactive_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aactive_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "aactive_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactive_storage_blobs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240911113247') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-09-11 11:53:34.168214', '2024-09-11 11:53:34.168226') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20240906140229)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30), "last_name" varchar(30), "email" varchar(80), "phone" varchar(10), "password" varchar(100), "address" varchar(200), "role" varchar(50), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240906140229') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrders (20240906140246)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at2" datetime(6), "status" varchar(80), "total" integer(15), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240906140246') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrderDetails (20240906140257)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer NOT NULL, "product_id" integer NOT NULL, "quantity" integer(10), "total" integer(15), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e5976611fd"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_4f2ac9473b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_order_id" ON "order_details" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_product_id" ON "order_details" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240906140257') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20240906140313)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30), "description" text, "price" integer(9), "image" varchar(500), "stock" integer(9), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240906140313') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20240906142525)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240906142525') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20240911112819)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240911112819') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddServiceNameToActiveStorageBlobs (20240911113245)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240911113245') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240911113246)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE IF NOT EXISTS "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX IF NOT EXISTS "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240911113246') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240911113247)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_blobs_on_key" ON "aactive_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "active_storage_blobs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "aactive_storage_blobs"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_blobs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240911113247') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240911113247)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_blobs_on_key" ON "aactive_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "aactive_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactive_storage_blobs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240911113247'[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240911113247)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_blobs_on_key" ON "aactive_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aactive_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "aactive_storage_blobs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240911113247') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: 1064-45-238-146-4.ngrok-free.app, 1064-45-238-146-4.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: 1064-45-238-146-4.ngrok-free.app, 1064-45-238-146-4.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: 1064-45-238-146-4.ngrok-free.app, 1064-45-238-146-4.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: 1064-45-238-146-4.ngrok-free.app, 1064-45-238-146-4.ngrok-free.app
Started GET "/" for 45.238.146.4 at 2024-09-11 07:47:34 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.6ms | Allocations: 386)
Completed 200 OK in 14ms (Views: 4.7ms | ActiveRecord: 0.0ms | Allocations: 4932)


Started GET "/users" for 45.238.146.4 at 2024-09-11 07:47:44 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:7:in `index'
Completed 200 OK in 26ms (Views: 1.7ms | ActiveRecord: 1.2ms | Allocations: 7668)


Started GET "/users/index" for 45.238.146.4 at 2024-09-11 07:48:14 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"index"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:61:in `set_user'
Completed 404 Not Found in 13ms (ActiveRecord: 0.6ms | Allocations: 4494)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=index):
  
app/controllers/users_controller.rb:61:in `set_user'
Started GET "/user" for 45.238.146.4 at 2024-09-11 07:48:21 -0500
  
ActionController::RoutingError (No route matches [GET] "/user"):
  
Started GET "/users" for 45.238.146.4 at 2024-09-11 07:48:38 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:7:in `index'
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms | Allocations: 840)


Started GET "/" for 45.238.146.4 at 2024-09-11 07:54:10 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.1ms | Allocations: 19)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms | Allocations: 225)


Started GET "/productos" for 45.238.146.4 at 2024-09-11 07:54:21 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.2ms | Allocations: 1455)


Started POST "/signup" for 45.238.146.4 at 2024-09-11 08:04:44 -0500
Processing by UsersController#signup as */*
  Parameters: {"user"=>{"name"=>"sofia", "last_name"=>"Hernandez", "email"=>"sofia@gmail.com", "phone"=>"1234567890", "password"=>"[FILTERED]", "address"=>"1234 Main St, Anytown, USA", "role"=>"CLIENTE"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mUser Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "sofia@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "last_name", "email", "phone", "password", "address", "role", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "sofia"], ["last_name", "Hernandez"], ["email", "sofia@gmail.com"], ["phone", "1234567890"], ["password", "[FILTERED]"], ["address", "1234 Main St, Anytown, USA"], ["role", "CLIENTE"], ["created_at", "2024-09-11 13:04:44.609629"], ["updated_at", "2024-09-11 13:04:44.609629"], ["password_digest", "[FILTERED]"]]
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
Completed 200 OK in 275ms (Views: 0.5ms | ActiveRecord: 5.4ms | Allocations: 14206)


Started POST "/signup" for 45.238.146.4 at 2024-09-11 08:05:19 -0500
Processing by UsersController#signup as */*
  Parameters: {"user"=>{"name"=>"camilo", "last_name"=>"gonzalo", "email"=>"camilo@gmail.com", "phone"=>"1234567890", "password"=>"[FILTERED]", "address"=>"1234 Main St, Anytown, USA", "role"=>"CLIENTE"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mUser Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "camilo@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "last_name", "email", "phone", "password", "address", "role", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "camilo"], ["last_name", "gonzalo"], ["email", "camilo@gmail.com"], ["phone", "1234567890"], ["password", "[FILTERED]"], ["address", "1234 Main St, Anytown, USA"], ["role", "CLIENTE"], ["created_at", "2024-09-11 13:05:19.301809"], ["updated_at", "2024-09-11 13:05:19.301809"], ["password_digest", "[FILTERED]"]]
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
Completed 200 OK in 243ms (Views: 0.2ms | ActiveRecord: 2.8ms | Allocations: 3042)


Started POST "/signup" for 45.238.146.4 at 2024-09-11 08:05:49 -0500
Processing by UsersController#signup as */*
  Parameters: {"user"=>{"name"=>"andres", "last_name"=>"gonzalo", "email"=>"andres@gmail.com", "phone"=>"1234567890", "password"=>"[FILTERED]", "address"=>"1234 Main St, Anytown, USA", "role"=>"ADMINISTRADOR"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "last_name", "email", "phone", "password", "address", "role", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "andres"], ["last_name", "gonzalo"], ["email", "andres@gmail.com"], ["phone", "1234567890"], ["password", "[FILTERED]"], ["address", "1234 Main St, Anytown, USA"], ["role", "ADMINISTRADOR"], ["created_at", "2024-09-11 13:05:50.042453"], ["updated_at", "2024-09-11 13:05:50.042453"], ["password_digest", "[FILTERED]"]]
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
Completed 200 OK in 247ms (Views: 0.3ms | ActiveRecord: 2.0ms | Allocations: 3010)


Started POST "/login" for 45.238.146.4 at 2024-09-11 08:08:55 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"camilo@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"camilo@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "camilo@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 205ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 1286)


Started GET "/productos" for 45.238.146.4 at 2024-09-11 08:08:57 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 737)


Started POST "/logout" for 45.238.146.4 at 2024-09-11 08:09:04 -0500
Processing by UsersController#logout as HTML
  Parameters: {"user"=>{}}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 70)


Started POST "/login" for 45.238.146.4 at 2024-09-11 08:09:05 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"", "password"=>"[FILTERED]", "user"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 577)


Started POST "/login" for 45.238.146.4 at 2024-09-11 09:30:46 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 200ms (Views: 0.5ms | ActiveRecord: 3.1ms | Allocations: 1125)


Started POST "/logout" for 45.238.146.4 at 2024-09-11 09:30:52 -0500
Processing by UsersController#logout as HTML
  Parameters: {"user"=>{}}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)


Started POST "/login" for 45.238.146.4 at 2024-09-11 09:30:54 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"", "password"=>"[FILTERED]", "user"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 575)


Started POST "/login" for 45.238.146.4 at 2024-09-11 09:35:33 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 199ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 836)


Started GET "/productos" for 45.238.146.4 at 2024-09-11 09:44:31 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 1.4ms | Allocations: 949)


Started GET "/usrs" for 45.238.146.4 at 2024-09-11 09:44:35 -0500
  
ActionController::RoutingError (No route matches [GET] "/usrs"):
  
Started GET "/users" for 45.238.146.4 at 2024-09-11 09:44:40 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:7:in `index'
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.1ms | Allocations: 1011)


Started POST "/login" for 45.238.146.4 at 2024-09-11 10:05:42 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
Completed 401 Unauthorized in 199ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 883)


Started POST "/login" for 45.238.146.4 at 2024-09-11 10:05:42 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
Completed 401 Unauthorized in 204ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 620)


Started POST "/login" for 45.238.146.4 at 2024-09-11 10:05:50 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 201ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 839)


Started POST "/login" for 45.238.146.4 at 2024-09-11 10:33:13 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (8.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 212ms (Views: 0.5ms | ActiveRecord: 16.8ms | Allocations: 5425)


Started POST "/products" for 45.238.146.4 at 2024-09-11 10:34:32 -0500
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"acetaminofen", "description"=>"es un producto que sirve para casos generales como dolor de cabeza", "price"=>"800", "stock"=>"10", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007d2d3e7def40 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-8624-w6hz0r.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0000.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"image\"; filename=\"IMG-20240911-WA0000.jpg\"\r\n">}
Completed 400 Bad Request in 34ms (ActiveRecord: 0.0ms | Allocations: 9313)


  
ActionController::ParameterMissing (param is missing or the value is empty: product):
  
app/controllers/products_controller.rb:45:in `product_params'
app/controllers/products_controller.rb:17:in `create'
Started POST "/products" for 45.238.146.4 at 2024-09-11 10:34:36 -0500
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"acetaminofen", "description"=>"es un producto que sirve para casos generales como dolor de cabeza", "price"=>"800", "stock"=>"10", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007d2d3f424930 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-8624-gdyss1.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0000.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"image\"; filename=\"IMG-20240911-WA0000.jpg\"\r\n">}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 139)


  
ActionController::ParameterMissing (param is missing or the value is empty: product):
  
app/controllers/products_controller.rb:45:in `product_params'
app/controllers/products_controller.rb:17:in `create'
Started POST "/products" for 45.238.146.4 at 2024-09-11 10:34:38 -0500
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"acetaminofen", "description"=>"es un producto que sirve para casos generales como dolor de cabeza", "price"=>"800", "stock"=>"10", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007d2d3e624f88 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-8624-eqk3fb.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0000.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"image\"; filename=\"IMG-20240911-WA0000.jpg\"\r\n">}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 137)


  
ActionController::ParameterMissing (param is missing or the value is empty: product):
  
app/controllers/products_controller.rb:45:in `product_params'
app/controllers/products_controller.rb:17:in `create'
Started POST "/products" for 45.238.146.4 at 2024-09-11 10:34:39 -0500
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"acetaminofen", "description"=>"es un producto que sirve para casos generales como dolor de cabeza", "price"=>"800", "stock"=>"10", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007d2d3e233550 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-8624-j71uwr.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0000.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"image\"; filename=\"IMG-20240911-WA0000.jpg\"\r\n">}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 137)


  
ActionController::ParameterMissing (param is missing or the value is empty: product):
  
app/controllers/products_controller.rb:45:in `product_params'
app/controllers/products_controller.rb:17:in `create'
Started POST "/products" for 45.238.146.4 at 2024-09-11 10:34:39 -0500
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"acetaminofen", "description"=>"es un producto que sirve para casos generales como dolor de cabeza", "price"=>"800", "stock"=>"10", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007d2d3e2d10c0 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-8624-xbr3mz.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0000.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"image\"; filename=\"IMG-20240911-WA0000.jpg\"\r\n">}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 138)


  
ActionController::ParameterMissing (param is missing or the value is empty: product):
  
app/controllers/products_controller.rb:45:in `product_params'
app/controllers/products_controller.rb:17:in `create'
Started POST "/products" for 45.238.146.4 at 2024-09-11 10:34:39 -0500
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"acetaminofen", "description"=>"es un producto que sirve para casos generales como dolor de cabeza", "price"=>"800", "stock"=>"10", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007d2d3dbb8568 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-8624-ub9pps.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0000.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"image\"; filename=\"IMG-20240911-WA0000.jpg\"\r\n">}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 137)


  
ActionController::ParameterMissing (param is missing or the value is empty: product):
  
app/controllers/products_controller.rb:45:in `product_params'
app/controllers/products_controller.rb:17:in `create'
Started POST "/products" for 45.238.146.4 at 2024-09-11 10:34:39 -0500
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"acetaminofen", "description"=>"es un producto que sirve para casos generales como dolor de cabeza", "price"=>"800", "stock"=>"10", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007d2d3f41f9d0 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-8624-th6oed.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0000.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"image\"; filename=\"IMG-20240911-WA0000.jpg\"\r\n">}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 137)


  
ActionController::ParameterMissing (param is missing or the value is empty: product):
  
app/controllers/products_controller.rb:45:in `product_params'
app/controllers/products_controller.rb:17:in `create'
Started GET "/productos" for 45.238.146.4 at 2024-09-11 10:38:42 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.1ms | Allocations: 1070)


Started GET "/favicon.ico" for 45.238.146.4 at 2024-09-11 10:38:42 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started POST "/products" for 45.238.146.4 at 2024-09-11 10:39:38 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"acetaminofen", "description"=>"es un producto que sirve para casos generales como dolor de cabeza", "price"=>"800", "stock"=>"10", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007d1d2e269378 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-12257-8puvmt.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0000.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"image\"; filename=\"IMG-20240911-WA0000.jpg\"\r\n">}
Completed 400 Bad Request in 15ms (ActiveRecord: 0.0ms | Allocations: 8637)


  
ActionController::ParameterMissing (param is missing or the value is empty: product):
  
app/controllers/products_controller.rb:45:in `product_params'
app/controllers/products_controller.rb:17:in `create'
Started GET "/productos" for 45.238.146.4 at 2024-09-11 10:39:58 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 200 OK in 7ms (Views: 2.0ms | ActiveRecord: 1.8ms | Allocations: 2782)


Started GET "/productos" for 45.238.146.4 at 2024-09-11 10:40:03 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms | Allocations: 725)


Started POST "/login" for 45.238.146.4 at 2024-09-11 10:43:49 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 215ms (Views: 0.5ms | ActiveRecord: 1.5ms | Allocations: 13984)


Started POST "/products" for 45.238.146.4 at 2024-09-11 10:45:17 -0500
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"acetaminofen", "description"=>"producto todo terreno ", "price"=>"3000", "stock"=>"10", "image"=>#<ActionDispatch::Http::UploadedFile:0x000071ee51fc3350 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-12362-321qj3.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240909-WA0007.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"product[image]\"; filename=\"IMG-20240909-WA0007.jpg\"\r\n">}}
[31mUnpermitted parameter: :product. Context: { controller: ProductsController, action: create, request: #<ActionDispatch::Request:0x000071ee51fa5c60>, params: {"product"=>{"name"=>"acetaminofen", "description"=>"producto todo terreno ", "price"=>"3000", "stock"=>"10", "image"=>#<ActionDispatch::Http::UploadedFile:0x000071ee51fc3350 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-12362-321qj3.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240909-WA0007.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"product[image]\"; filename=\"IMG-20240909-WA0007.jpg\"\r\n">}, "controller"=>"products", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mProduct Create (1.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "image", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", nil], ["description", nil], ["price", nil], ["image", nil], ["stock", nil], ["created_at", "2024-09-11 15:45:17.256233"], ["updated_at", "2024-09-11 15:45:17.256233"]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:19:in `create'
Completed 500 Internal Server Error in 99ms (ActiveRecord: 4.0ms | Allocations: 30295)


  
SystemStackError (stack level too deep):
  
app/controllers/products_controller.rb:19:in `create'
Started POST "/login" for 45.238.146.4 at 2024-09-11 10:54:47 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 220ms (Views: 1.4ms | ActiveRecord: 1.9ms | Allocations: 13984)


Started POST "/products" for 45.238.146.4 at 2024-09-11 10:56:15 -0500
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"acetaminifen", "description"=>"si esto mo te cura ve al hospital ", "price"=>"2500", "stock"=>"10", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007a6d6894d040 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-12644-od20n1.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0004.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"product[image]\"; filename=\"IMG-20240911-WA0004.jpg\"\r\n">}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mProduct Create (2.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "image", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "acetaminifen"], ["description", "si esto mo te cura ve al hospital "], ["price", 2500], ["image", nil], ["stock", 10], ["created_at", "2024-09-11 15:56:15.488058"], ["updated_at", "2024-09-11 15:56:15.488058"]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "5ytpgcpdh0vb5s3ryw8jak53rafe"], ["filename", "IMG-20240911-WA0004.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 110425], ["checksum", "0GXBpUcdG+o35S40L98/Gg=="], ["created_at", "2024-09-11 15:56:15.531639"]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 2], ["blob_id", 1], ["created_at", "2024-09-11 15:56:15.535475"]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mProduct Update (0.6ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 15:56:15.537238"], ["id", 2]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:18:in `create'
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: 5ytpgcpdh0vb5s3ryw8jak53rafe (checksum: 0GXBpUcdG+o35S40L98/Gg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 00421d81-dec4-4635-823e-71a64151eb65) to Async(default) with arguments: #<GlobalID:0x00007a6d671b1b48 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/1>>
[ActiveJob] ↳ app/controllers/products_controller.rb:18:in `create'
Completed 500 Internal Server Error in 187ms (ActiveRecord: 6.8ms | Allocations: 60150)


  
SystemStackError (stack level too deep):
  
app/controllers/products_controller.rb:19:in `create'
[ActiveJob] [ActiveStorage::AnalyzeJob] [00421d81-dec4-4635-823e-71a64151eb65]   [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [00421d81-dec4-4635-823e-71a64151eb65] Performing ActiveStorage::AnalyzeJob (Job ID: 00421d81-dec4-4635-823e-71a64151eb65) from Async(default) enqueued at 2024-09-11T15:56:15.564387196Z with arguments: #<GlobalID:0x00007a6d66d4d548 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [00421d81-dec4-4635-823e-71a64151eb65] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [00421d81-dec4-4635-823e-71a64151eb65]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [00421d81-dec4-4635-823e-71a64151eb65]   [1m[36mActiveStorage::Blob Update (200.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [00421d81-dec4-4635-823e-71a64151eb65]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [00421d81-dec4-4635-823e-71a64151eb65]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ?[0m  [["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [00421d81-dec4-4635-823e-71a64151eb65]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 15:56:22.823920"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [00421d81-dec4-4635-823e-71a64151eb65]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [00421d81-dec4-4635-823e-71a64151eb65] Performed ActiveStorage::AnalyzeJob (Job ID: 00421d81-dec4-4635-823e-71a64151eb65) from Async(default) in 6419.22ms
Started POST "/login" for 45.238.146.4 at 2024-09-11 11:02:38 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
Completed 401 Unauthorized in 264ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 13378)


Started POST "/login" for 45.238.146.4 at 2024-09-11 11:02:42 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 200ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 1340)


Started POST "/products" for 45.238.146.4 at 2024-09-11 11:03:37 -0500
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"acetaminofen", "description"=>"si mo te sirve ve al hospital ", "price"=>"2500", "stock"=>"20", "image"=>#<ActionDispatch::Http::UploadedFile:0x000070e79f1c9830 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-12821-liz384.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0004.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"product[image]\"; filename=\"IMG-20240911-WA0004.jpg\"\r\n">}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mProduct Create (1.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "image", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "acetaminofen"], ["description", "si mo te sirve ve al hospital "], ["price", 2500], ["image", nil], ["stock", 20], ["created_at", "2024-09-11 16:03:37.947540"], ["updated_at", "2024-09-11 16:03:37.947540"]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "r7tlxwoxov7u7l25938kmj79wpdk"], ["filename", "IMG-20240911-WA0004.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 110425], ["checksum", "0GXBpUcdG+o35S40L98/Gg=="], ["created_at", "2024-09-11 16:03:37.977176"]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 3], ["blob_id", 2], ["created_at", "2024-09-11 16:03:37.979642"]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 16:03:37.981294"], ["id", 3]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:18:in `create'
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: r7tlxwoxov7u7l25938kmj79wpdk (checksum: 0GXBpUcdG+o35S40L98/Gg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3a7f421a-aef5-4316-b444-3e9828d8d724) to Async(default) with arguments: #<GlobalID:0x000070e79fe92c60 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/2>>
[ActiveJob] ↳ app/controllers/products_controller.rb:18:in `create'
Redirected to https://1064-45-238-146-4.ngrok-free.app/products/3
Completed 302 Found in 108ms (ActiveRecord: 9.6ms | Allocations: 45200)


[ActiveJob] [ActiveStorage::AnalyzeJob] [3a7f421a-aef5-4316-b444-3e9828d8d724]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3a7f421a-aef5-4316-b444-3e9828d8d724] Performing ActiveStorage::AnalyzeJob (Job ID: 3a7f421a-aef5-4316-b444-3e9828d8d724) from Async(default) enqueued at 2024-09-11T16:03:38.010740296Z with arguments: #<GlobalID:0x000070e79fe6ee00 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [3a7f421a-aef5-4316-b444-3e9828d8d724] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [3a7f421a-aef5-4316-b444-3e9828d8d724]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3a7f421a-aef5-4316-b444-3e9828d8d724]   [1m[36mActiveStorage::Blob Update (1.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3a7f421a-aef5-4316-b444-3e9828d8d724]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3a7f421a-aef5-4316-b444-3e9828d8d724]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ?[0m  [["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3a7f421a-aef5-4316-b444-3e9828d8d724]   [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 16:03:38.041015"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3a7f421a-aef5-4316-b444-3e9828d8d724]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3a7f421a-aef5-4316-b444-3e9828d8d724] Performed ActiveStorage::AnalyzeJob (Job ID: 3a7f421a-aef5-4316-b444-3e9828d8d724) from Async(default) in 25.19ms
Started GET "/productos" for 45.238.146.4 at 2024-09-11 11:07:06 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 500 Internal Server Error in 67ms (ActiveRecord: 2.1ms | Allocations: 33247)


  
SystemStackError (stack level too deep):
  
app/controllers/products_controller.rb:6:in `index'
Started GET "/productos" for 45.238.146.4 at 2024-09-11 11:07:21 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 500 Internal Server Error in 622ms (ActiveRecord: 1.9ms | Allocations: 439788)


  
SystemStackError (stack level too deep):
  
app/controllers/products_controller.rb:6:in `index'
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240911113247)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_blobs_on_key" ON "aactive_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "aactive_storage_blobs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240911113247'[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240911113247)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_blobs_on_key" ON "aactive_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "aactive_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactive_storage_blobs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240911113247') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/login" for 45.238.146.4 at 2024-09-11 11:37:11 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/login" for 45.238.146.4 at 2024-09-11 11:37:11 -0500
Processing by UsersController#login as HTML
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 223ms (Views: 0.5ms | ActiveRecord: 1.5ms | Allocations: 14920)


DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 230ms (Views: 0.5ms | ActiveRecord: 1.1ms | Allocations: 15427)


Started POST "/products" for 45.238.146.4 at 2024-09-11 11:38:00 -0500
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"acetaminofen", "description"=>"cura todo", "price"=>"3500", "stock"=>"10", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007b3dd57bc788 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-13518-b887ca.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0004.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"product[image]\"; filename=\"IMG-20240911-WA0004.jpg\"\r\n">}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "image", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "acetaminofen"], ["description", "cura todo"], ["price", 3500], ["image", nil], ["stock", 10], ["created_at", "2024-09-11 16:38:00.266218"], ["updated_at", "2024-09-11 16:38:00.266218"]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "wryn6cnnohzaj0hmkip83v8bb8uh"], ["filename", "IMG-20240911-WA0004.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 110425], ["checksum", "0GXBpUcdG+o35S40L98/Gg=="], ["created_at", "2024-09-11 16:38:00.290520"]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 4], ["blob_id", 3], ["created_at", "2024-09-11 16:38:00.292895"]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 16:38:00.294363"], ["id", 4]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:18:in `create'
[36m  Disk Storage (15.1ms) [0m[32mUploaded file to key: wryn6cnnohzaj0hmkip83v8bb8uh (checksum: 0GXBpUcdG+o35S40L98/Gg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 300241e8-6e39-4bfd-94cc-7415507775e1) to Async(default) with arguments: #<GlobalID:0x00007b3dd574d2e8 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/3>>
[ActiveJob] ↳ app/controllers/products_controller.rb:18:in `create'
Redirected to https://1064-45-238-146-4.ngrok-free.app/products/4
Completed 302 Found in 104ms (ActiveRecord: 4.8ms | Allocations: 45217)


[ActiveJob] [ActiveStorage::AnalyzeJob] [300241e8-6e39-4bfd-94cc-7415507775e1]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [300241e8-6e39-4bfd-94cc-7415507775e1] Performing ActiveStorage::AnalyzeJob (Job ID: 300241e8-6e39-4bfd-94cc-7415507775e1) from Async(default) enqueued at 2024-09-11T16:38:00.327653835Z with arguments: #<GlobalID:0x00007b3dd5729398 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [300241e8-6e39-4bfd-94cc-7415507775e1] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [300241e8-6e39-4bfd-94cc-7415507775e1]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [300241e8-6e39-4bfd-94cc-7415507775e1]   [1m[36mActiveStorage::Blob Update (1.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [300241e8-6e39-4bfd-94cc-7415507775e1]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [300241e8-6e39-4bfd-94cc-7415507775e1]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ?[0m  [["id", 4]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [300241e8-6e39-4bfd-94cc-7415507775e1]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 16:38:00.355533"], ["id", 4]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [300241e8-6e39-4bfd-94cc-7415507775e1]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [300241e8-6e39-4bfd-94cc-7415507775e1] Performed ActiveStorage::AnalyzeJob (Job ID: 300241e8-6e39-4bfd-94cc-7415507775e1) from Async(default) in 25.59ms
Started GET "/" for 45.238.146.4 at 2024-09-11 11:42:46 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.9ms | Allocations: 382)
Completed 200 OK in 13ms (Views: 7.6ms | ActiveRecord: 0.0ms | Allocations: 3735)


Started POST "/login" for 45.238.146.4 at 2024-09-11 11:45:36 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 202ms (Views: 0.5ms | ActiveRecord: 1.7ms | Allocations: 5373)


Started POST "/products" for 45.238.146.4 at 2024-09-11 11:46:05 -0500
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"acetaminofen", "description"=>"todo en uno ", "price"=>"5000", "stock"=>"10", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007b3dd4e98440 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-13518-6xg6bu.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0004.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"product[image]\"; filename=\"IMG-20240911-WA0004.jpg\"\r\n">}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "image", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "acetaminofen"], ["description", "todo en uno "], ["price", 5000], ["image", nil], ["stock", 10], ["created_at", "2024-09-11 16:46:05.681262"], ["updated_at", "2024-09-11 16:46:05.681262"]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "0nh8qa3ukysg7ydwa0wm8h78uaop"], ["filename", "IMG-20240911-WA0004.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 110425], ["checksum", "0GXBpUcdG+o35S40L98/Gg=="], ["created_at", "2024-09-11 16:46:05.704694"]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 5], ["blob_id", 4], ["created_at", "2024-09-11 16:46:05.707130"]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 16:46:05.708861"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:18:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:18:in `create'
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 0nh8qa3ukysg7ydwa0wm8h78uaop (checksum: 0GXBpUcdG+o35S40L98/Gg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d74fdb76-ccb7-4bea-87dd-28877fdd8647) to Async(default) with arguments: #<GlobalID:0x00007b3dd5dbb300 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/4>>
[ActiveJob] ↳ app/controllers/products_controller.rb:18:in `create'
Redirected to https://3d7f-45-238-146-4.ngrok-free.app/products/5
Completed 302 Found in 52ms (ActiveRecord: 2.8ms | Allocations: 26342)


[ActiveJob] [ActiveStorage::AnalyzeJob] [d74fdb76-ccb7-4bea-87dd-28877fdd8647]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d74fdb76-ccb7-4bea-87dd-28877fdd8647] Performing ActiveStorage::AnalyzeJob (Job ID: d74fdb76-ccb7-4bea-87dd-28877fdd8647) from Async(default) enqueued at 2024-09-11T16:46:05.714447053Z with arguments: #<GlobalID:0x00007b3dd49ef4e8 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/4>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d74fdb76-ccb7-4bea-87dd-28877fdd8647] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [d74fdb76-ccb7-4bea-87dd-28877fdd8647]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d74fdb76-ccb7-4bea-87dd-28877fdd8647]   [1m[36mActiveStorage::Blob Update (1.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 4]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d74fdb76-ccb7-4bea-87dd-28877fdd8647]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 4]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d74fdb76-ccb7-4bea-87dd-28877fdd8647]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ?[0m  [["id", 5]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d74fdb76-ccb7-4bea-87dd-28877fdd8647]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 16:46:05.730475"], ["id", 5]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d74fdb76-ccb7-4bea-87dd-28877fdd8647]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d74fdb76-ccb7-4bea-87dd-28877fdd8647] Performed ActiveStorage::AnalyzeJob (Job ID: d74fdb76-ccb7-4bea-87dd-28877fdd8647) from Async(default) in 13.65ms
Started GET "/products/5" for 45.238.146.4 at 2024-09-11 11:47:47 -0500
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:11:in `show'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:12:in `show'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:12:in `show'
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.4ms | Allocations: 16679)


  
SystemStackError (stack level too deep):
  
app/controllers/products_controller.rb:12:in `show'
Started GET "/products/5" for 45.238.146.4 at 2024-09-11 11:47:49 -0500
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:11:in `show'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:12:in `show'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:12:in `show'
Completed 500 Internal Server Error in 1124ms (ActiveRecord: 1.3ms | Allocations: 977319)


  
SystemStackError (stack level too deep):
  
app/controllers/products_controller.rb:12:in `show'
Started GET "/products/5" for 45.238.146.4 at 2024-09-11 11:49:07 -0500
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:11:in `show'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:12:in `show'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:12:in `show'
Completed 500 Internal Server Error in 26ms (ActiveRecord: 1.2ms | Allocations: 16395)


  
SystemStackError (stack level too deep):
  
app/controllers/products_controller.rb:12:in `show'
Started POST "/login" for 45.238.146.4 at 2024-09-11 12:20:50 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 221ms (Views: 0.5ms | ActiveRecord: 1.8ms | Allocations: 13994)


Started POST "/products" for 45.238.146.4 at 2024-09-11 12:21:19 -0500
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"miopia", "description"=>"treinta", "price"=>"50000", "stock"=>"1", "image"=>#<ActionDispatch::Http::UploadedFile:0x0000749a9326a050 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-14545-p0en5h.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0004.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"product[image]\"; filename=\"IMG-20240911-WA0004.jpg\"\r\n">}}
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.4ms | Allocations: 9246)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass

        @attributes.fetch_value(attr_name, &block)
                   ^^^^^^^^^^^^):
  
app/controllers/products_controller.rb:18:in `create'
Started GET "/" for 45.238.146.4 at 2024-09-11 12:24:55 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.7ms | Allocations: 294)
Completed 200 OK in 7ms (Views: 3.4ms | ActiveRecord: 0.0ms | Allocations: 2047)


  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/login" for 45.238.146.4 at 2024-09-11 12:36:11 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 260ms (Views: 0.6ms | ActiveRecord: 1.7ms | Allocations: 14003)


Started POST "/products" for 45.238.146.4 at 2024-09-11 12:36:47 -0500
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"mieltertos", "description"=>"quita la gripe", "price"=>"6500", "stock"=>"35", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f3cdb316450 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-15073-60ed55.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0004.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"product[image]\"; filename=\"IMG-20240911-WA0004.jpg\"\r\n">}}
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.2ms | Allocations: 9265)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass

        @attributes.fetch_value(attr_name, &block)
                   ^^^^^^^^^^^^):
  
app/controllers/products_controller.rb:18:in `create'
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240911113247)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (1.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_blobs_on_key" ON "aactive_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "active_storage_blobs"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "aactive_storage_blobs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_blobs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.0ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240911113247'[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240911113247)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_blobs_on_key" ON "aactive_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "aactive_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactive_storage_blobs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240911113247') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/products" for 45.238.146.4 at 2024-09-11 12:39:33 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"mieltertos", "description"=>"quita la gripe", "price"=>"6500", "stock"=>"35", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007d6a0c5acac8 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-15244-b312mh.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0004.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"product[image]\"; filename=\"IMG-20240911-WA0004.jpg\"\r\n">}}
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.9ms | Allocations: 11320)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass

        @attributes.fetch_value(attr_name, &block)
                   ^^^^^^^^^^^^):
  
app/controllers/products_controller.rb:18:in `create'
Started POST "/login" for 45.238.146.4 at 2024-09-11 13:04:34 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 226ms (Views: 0.6ms | ActiveRecord: 2.1ms | Allocations: 11213)


Started POST "/products" for 45.238.146.4 at 2024-09-11 13:04:57 -0500
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"paramont", "description"=>"nose", "price"=>"5000", "stock"=>"1", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007d6a07fbcc98 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-15244-uw9by.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0004.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"product[image]\"; filename=\"IMG-20240911-WA0004.jpg\"\r\n">}}
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms | Allocations: 8384)


  
NoMethodError (undefined method `fetch_value' for nil:NilClass

        @attributes.fetch_value(attr_name, &block)
                   ^^^^^^^^^^^^):
  
app/controllers/products_controller.rb:19:in `create'
Started GET "/productos" for 45.238.146.4 at 2024-09-11 13:10:57 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/productos"):
  
Started GET "/favicon.ico" for 45.238.146.4 at 2024-09-11 13:10:57 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/products" for 45.238.146.4 at 2024-09-11 13:11:03 -0500
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 500 Internal Server Error in 59ms (ActiveRecord: 2.3ms | Allocations: 31045)


  
SystemStackError (stack level too deep):
  
app/controllers/products_controller.rb:6:in `index'
Started POST "/login" for 45.238.146.4 at 2024-09-11 13:13:47 -0500
Started POST "/login" for 45.238.146.4 at 2024-09-11 13:13:51 -0500
Processing by UsersController#login as HTML
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  ↳ app/controllers/users_controller.rb:27:in `login'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 4651ms (Views: 0.9ms | ActiveRecord: 1.5ms | Allocations: 4007431)


DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 4450ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 3820002)


Started POST "/products" for 45.238.146.4 at 2024-09-11 13:14:27 -0500
Processing by ProductsController#create as HTML
  Parameters: {"name"=>"kaj", "description"=>"nose ", "price"=>"2500", "stock"=>"10", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007358b7b8fc80 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-15803-ku8w4y.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0004.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"image\"; filename=\"IMG-20240911-WA0004.jpg\"\r\n">}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 210)


  
ActionController::ParameterMissing (param is missing or the value is empty: product):
  
app/controllers/products_controller.rb:46:in `product_params'
app/controllers/products_controller.rb:17:in `create'
Started POST "/login" for 45.238.146.4 at 2024-09-11 13:18:02 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com ", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com ", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com "], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
Completed 401 Unauthorized in 14ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 5339)


Started POST "/login" for 45.238.146.4 at 2024-09-11 13:18:06 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 237ms (Views: 4.6ms | ActiveRecord: 0.2ms | Allocations: 9336)


Started POST "/login" for 45.238.146.4 at 2024-09-11 13:19:39 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 211ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 943)


Started POST "/products" for 45.238.146.4 at 2024-09-11 13:20:01 -0500
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"kwjw", "description"=>"jssh", "price"=>"6664", "stock"=>"664", "image"=>#<ActionDispatch::Http::UploadedFile:0x000078ad33677ec0 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-15972-ox2wwa.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0004.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"product[image]\"; filename=\"IMG-20240911-WA0004.jpg\"\r\n">}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mProduct Create (1.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "image", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "kwjw"], ["description", "jssh"], ["price", 6664], ["image", nil], ["stock", 664], ["created_at", "2024-09-11 18:20:01.901080"], ["updated_at", "2024-09-11 18:20:01.901080"]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "rg3pul061zv6axet76dlrfg5yzne"], ["filename", "IMG-20240911-WA0004.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 110425], ["checksum", "0GXBpUcdG+o35S40L98/Gg=="], ["created_at", "2024-09-11 18:20:01.926978"]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 6], ["blob_id", 5], ["created_at", "2024-09-11 18:20:01.928936"]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 18:20:01.930538"], ["id", 6]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:19:in `create'
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: rg3pul061zv6axet76dlrfg5yzne (checksum: 0GXBpUcdG+o35S40L98/Gg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6625b7bc-de66-43d7-89ef-29c4bd6734fb) to Async(default) with arguments: #<GlobalID:0x000078ad33506b40 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/5>>
[ActiveJob] ↳ app/controllers/products_controller.rb:19:in `create'
Completed 500 Internal Server Error in 100ms (ActiveRecord: 4.8ms | Allocations: 58165)


  
SystemStackError (stack level too deep):
  
app/controllers/products_controller.rb:20:in `create'
[ActiveJob] [ActiveStorage::AnalyzeJob] [6625b7bc-de66-43d7-89ef-29c4bd6734fb]   [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6625b7bc-de66-43d7-89ef-29c4bd6734fb] Performing ActiveStorage::AnalyzeJob (Job ID: 6625b7bc-de66-43d7-89ef-29c4bd6734fb) from Async(default) enqueued at 2024-09-11T18:20:01.951115222Z with arguments: #<GlobalID:0x000078ad334dd218 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/5>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [6625b7bc-de66-43d7-89ef-29c4bd6734fb] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [6625b7bc-de66-43d7-89ef-29c4bd6734fb]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6625b7bc-de66-43d7-89ef-29c4bd6734fb]   [1m[36mActiveStorage::Blob Update (101.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 5]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6625b7bc-de66-43d7-89ef-29c4bd6734fb]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 5]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6625b7bc-de66-43d7-89ef-29c4bd6734fb]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ?[0m  [["id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6625b7bc-de66-43d7-89ef-29c4bd6734fb]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 18:20:20.753819"], ["id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6625b7bc-de66-43d7-89ef-29c4bd6734fb]   [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6625b7bc-de66-43d7-89ef-29c4bd6734fb] Performed ActiveStorage::AnalyzeJob (Job ID: 6625b7bc-de66-43d7-89ef-29c4bd6734fb) from Async(default) in 15957.68ms
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240911113247)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_blobs_on_key" ON "aactive_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "active_storage_blobs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "aactive_storage_blobs"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240911113247'[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240911113247)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_blobs_on_key" ON "aactive_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "aactive_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactive_storage_blobs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240911113247') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240911113247)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_blobs_on_key" ON "aactive_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "active_storage_blobs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "aactive_storage_blobs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_blobs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.0ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240911113247'[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullOnActiveStorageBlobsChecksum (20240911113247)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_blobs_on_key" ON "aactive_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "active_storage_blobs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar DEFAULT NULL, "metadata" text DEFAULT NULL, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at")
                     SELECT "id","key","filename","content_type","metadata","service_name","byte_size","checksum","created_at" FROM "aactive_storage_blobs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_blobs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240911113247') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddImageToProducts (20240911183358)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproducts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "description" text DEFAULT NULL, "price" integer(9) DEFAULT NULL, "image" varchar(500) DEFAULT NULL, "stock" integer(9) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aproducts" ("id","name","description","price","image","stock","created_at","updated_at")
                     SELECT "id","name","description","price","image","stock","created_at","updated_at" FROM "products"[0m
  [1m[35m (6.9ms)[0m  [1m[35mDROP TABLE "products"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "description" text DEFAULT NULL, "price" integer(9) DEFAULT NULL, "image" varchar(500) DEFAULT NULL, "stock" integer(9) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "image_id" integer NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","image","stock","created_at","updated_at")
                     SELECT "id","name","description","price","image","stock","created_at","updated_at" FROM "aproducts"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddImageToProducts (20240911183358)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproducts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "description" text DEFAULT NULL, "price" integer(9) DEFAULT NULL, "image" varchar(500) DEFAULT NULL, "stock" integer(9) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aproducts" ("id","name","description","price","image","stock","created_at","updated_at")
                     SELECT "id","name","description","price","image","stock","created_at","updated_at" FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "products"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "description" text DEFAULT NULL, "price" integer(9) DEFAULT NULL, "image" varchar(500) DEFAULT NULL, "stock" integer(9) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "image_id" integer NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","image","stock","created_at","updated_at")
                     SELECT "id","name","description","price","image","stock","created_at","updated_at" FROM "aproducts"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddImageToProducts (20240911183358)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (9.5ms)[0m  [1m[35mALTER TABLE "products" ADD "image_id" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_image_id" ON "products" ("image_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproducts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "description" text DEFAULT NULL, "price" integer(9) DEFAULT NULL, "image" varchar(500) DEFAULT NULL, "stock" integer(9) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "image_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aproducts_on_image_id" ON "aproducts" ("image_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aproducts" ("id","name","description","price","image","stock","created_at","updated_at","image_id")
                     SELECT "id","name","description","price","image","stock","created_at","updated_at","image_id" FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "products"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "description" text DEFAULT NULL, "price" integer(9) DEFAULT NULL, "image" varchar(500) DEFAULT NULL, "stock" integer(9) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "image_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_0c57d8fc34"
FOREIGN KEY ("image_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_image_id" ON "products" ("image_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","image","stock","created_at","updated_at","image_id")
                     SELECT "id","name","description","price","image","stock","created_at","updated_at","image_id" FROM "aproducts"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aproducts"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240911183358') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeImageIdToNotNull (20240911183644)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproducts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "description" text DEFAULT NULL, "price" integer(9) DEFAULT NULL, "image" varchar(500) DEFAULT NULL, "stock" integer(9) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "image_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aproducts_on_image_id" ON "aproducts" ("image_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aproducts" ("id","name","description","price","image","stock","created_at","updated_at","image_id")
                     SELECT "id","name","description","price","image","stock","created_at","updated_at","image_id" FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "products"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "description" text DEFAULT NULL, "price" integer(9) DEFAULT NULL, "image" varchar(500) DEFAULT NULL, "stock" integer(9) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "image_id" integer NOT NULL, CONSTRAINT "fk_rails_0c57d8fc34"
FOREIGN KEY ("image_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_image_id" ON "products" ("image_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","image","stock","created_at","updated_at","image_id")
                     SELECT "id","name","description","price","image","stock","created_at","updated_at","image_id" FROM "aproducts"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 9b4af703-3e16-4603-a38a-0ad3c138aaea) to Async(default) with arguments: #<GlobalID:0x000071dea3a36a80 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/1>>
[ActiveJob] ↳ (irb):1:in `<main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 2]]
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [9b4af703-3e16-4603-a38a-0ad3c138aaea]   [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 3261b94c-1860-49ed-82c8-253aad596274) to Async(default) with arguments: #<GlobalID:0x000071dea39fb7a0 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::PurgeJob] [9b4af703-3e16-4603-a38a-0ad3c138aaea] Performing ActiveStorage::PurgeJob (Job ID: 9b4af703-3e16-4603-a38a-0ad3c138aaea) from Async(default) enqueued at 2024-09-11T18:38:37.185262340Z with arguments: #<GlobalID:0x000071dea39ffeb8 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [3261b94c-1860-49ed-82c8-253aad596274]   [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] ↳ (irb):1:in `<main>'
[ActiveJob] [ActiveStorage::PurgeJob] [3261b94c-1860-49ed-82c8-253aad596274] Performing ActiveStorage::PurgeJob (Job ID: 3261b94c-1860-49ed-82c8-253aad596274) from Async(default) enqueued at 2024-09-11T18:38:37.199519942Z with arguments: #<GlobalID:0x000071dea39dac58 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/2>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Load (2.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 3]]
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 4]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: b64ad3e0-2776-4c66-826c-dd9274956592) to Async(default) with arguments: #<GlobalID:0x000071dea39658b8 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::PurgeJob] [3261b94c-1860-49ed-82c8-253aad596274]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [3261b94c-1860-49ed-82c8-253aad596274]   [1m[36mActiveStorage::Attachment Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [9b4af703-3e16-4603-a38a-0ad3c138aaea]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [9b4af703-3e16-4603-a38a-0ad3c138aaea]   [1m[36mActiveStorage::Attachment Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] ↳ (irb):1:in `<main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 4]]
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 5]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: f0700587-0673-4a38-9ffd-95171f45bdb0) to Async(default) with arguments: #<GlobalID:0x000071dea390e298 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/4>>
[ActiveJob] ↳ (irb):1:in `<main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 5]]
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 6]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 37780920-b7b8-4cd8-88d4-808b5c6fbc42) to Async(default) with arguments: #<GlobalID:0x000071dea38e46a0 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/5>>
[ActiveJob] ↳ (irb):1:in `<main>'
[ActiveJob] [ActiveStorage::PurgeJob] [3261b94c-1860-49ed-82c8-253aad596274]   [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 2]]
[ActiveJob] [ActiveStorage::PurgeJob] [9b4af703-3e16-4603-a38a-0ad3c138aaea]   [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [3261b94c-1860-49ed-82c8-253aad596274]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [9b4af703-3e16-4603-a38a-0ad3c138aaea]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [3261b94c-1860-49ed-82c8-253aad596274]   [1m[36mActiveStorage::Blob Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 2]]
[ActiveJob] [ActiveStorage::PurgeJob] [9b4af703-3e16-4603-a38a-0ad3c138aaea]   [1m[36mActiveStorage::Blob Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [9b4af703-3e16-4603-a38a-0ad3c138aaea]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [3261b94c-1860-49ed-82c8-253aad596274]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [9b4af703-3e16-4603-a38a-0ad3c138aaea] Error performing ActiveStorage::PurgeJob (Job ID: 9b4af703-3e16-4603-a38a-0ad3c138aaea) from Async(default) in 87.7ms: ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/sqlite3-2.0.4-x86_64-linux-gnu/lib/sqlite3/statement.rb:125:in `step'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/sqlite3-2.0.4-x86_64-linux-gnu/lib/sqlite3/statement.rb:125:in `block in each'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/sqlite3-2.0.4-x86_64-linux-gnu/lib/sqlite3/statement.rb:124:in `loop'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/sqlite3-2.0.4-x86_64-linux-gnu/lib/sqlite3/statement.rb:124:in `each'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:42:in `to_a'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:42:in `block (2 levels) in internal_exec_query'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:1027:in `block in with_raw_connection'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:999:in `with_raw_connection'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:33:in `block in internal_exec_query'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:1142:in `log'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:32:in `internal_exec_query'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:61:in `exec_delete'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:208:in `delete'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract/query_cache.rb:25:in `delete'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/persistence.rb:624:in `_delete_record'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/persistence.rb:1198:in `_delete_row'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/persistence.rb:1194:in `destroy_row'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/counter_cache.rb:198:in `destroy_row'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/locking/optimistic.rb:125:in `destroy_row'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/persistence.rb:783:in `destroy'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/callbacks.rb:423:in `block in destroy'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:110:in `run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:952:in `_run_destroy_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/callbacks.rb:423:in `destroy'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/transactions.rb:305:in `block in destroy'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/transactions.rb:365:in `block in with_transaction_returning_status'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:535:in `block in within_new_transaction'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:532:in `within_new_transaction'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:344:in `transaction'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/transactions.rb:361:in `with_transaction_returning_status'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/transactions.rb:305:in `destroy'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activestorage-7.1.4/app/models/active_storage/blob.rb:316:in `purge'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activestorage-7.1.4/app/jobs/active_storage/purge_job.rb:11:in `perform'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/execution.rb:68:in `block in _perform_job'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/i18n-1.14.5/lib/i18n.rb:351:in `with_locale'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:130:in `instance_exec'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/core_ext/time/zones.rb:65:in `use_zone'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:130:in `instance_exec'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/execution.rb:67:in `_perform_job'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/instrumentation.rb:32:in `_perform_job'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/execution.rb:51:in `perform_now'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/instrumentation.rb:26:in `block in perform_now'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/railties/job_runtime.rb:13:in `block in instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/instrumentation.rb:40:in `block in instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/notifications.rb:206:in `block in instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/notifications.rb:206:in `instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/instrumentation.rb:39:in `instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/railties/job_runtime.rb:11:in `instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/instrumentation.rb:26:in `perform_now'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/logging.rb:18:in `block in perform_now'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/logging.rb:25:in `tag_logger'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/logging.rb:18:in `perform_now'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/execution.rb:29:in `block in execute'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/railtie.rb:67:in `block (4 levels) in <class:Railtie>'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/reloader.rb:77:in `block in wrap'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/execution_wrapper.rb:92:in `wrap'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/reloader.rb:74:in `wrap'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/railtie.rb:66:in `block (3 levels) in <class:Railtie>'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:130:in `instance_exec'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/execution.rb:27:in `execute'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/concurrent-ruby-1.3.4/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in `run_task'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/concurrent-ruby-1.3.4/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in `block (3 levels) in create_worker'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/concurrent-ruby-1.3.4/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `loop'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/concurrent-ruby-1.3.4/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `block (2 levels) in create_worker'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/concurrent-ruby-1.3.4/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `catch'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/concurrent-ruby-1.3.4/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `block in create_worker'
[ActiveJob] [ActiveStorage::PurgeJob] [3261b94c-1860-49ed-82c8-253aad596274] Error performing ActiveStorage::PurgeJob (Job ID: 3261b94c-1860-49ed-82c8-253aad596274) from Async(default) in 78.92ms: ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/sqlite3-2.0.4-x86_64-linux-gnu/lib/sqlite3/statement.rb:125:in `step'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/sqlite3-2.0.4-x86_64-linux-gnu/lib/sqlite3/statement.rb:125:in `block in each'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/sqlite3-2.0.4-x86_64-linux-gnu/lib/sqlite3/statement.rb:124:in `loop'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/sqlite3-2.0.4-x86_64-linux-gnu/lib/sqlite3/statement.rb:124:in `each'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:42:in `to_a'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:42:in `block (2 levels) in internal_exec_query'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:1027:in `block in with_raw_connection'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:999:in `with_raw_connection'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:33:in `block in internal_exec_query'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:1142:in `log'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:32:in `internal_exec_query'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:61:in `exec_delete'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:208:in `delete'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract/query_cache.rb:25:in `delete'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/persistence.rb:624:in `_delete_record'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/persistence.rb:1198:in `_delete_row'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/persistence.rb:1194:in `destroy_row'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/counter_cache.rb:198:in `destroy_row'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/locking/optimistic.rb:125:in `destroy_row'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/persistence.rb:783:in `destroy'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/callbacks.rb:423:in `block in destroy'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:110:in `run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:952:in `_run_destroy_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/callbacks.rb:423:in `destroy'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/transactions.rb:305:in `block in destroy'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/transactions.rb:365:in `block in with_transaction_returning_status'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:535:in `block in within_new_transaction'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:532:in `within_new_transaction'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:344:in `transaction'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/transactions.rb:361:in `with_transaction_returning_status'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/transactions.rb:305:in `destroy'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activestorage-7.1.4/app/models/active_storage/blob.rb:316:in `purge'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activestorage-7.1.4/app/jobs/active_storage/purge_job.rb:11:in `perform'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/execution.rb:68:in `block in _perform_job'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/i18n-1.14.5/lib/i18n.rb:351:in `with_locale'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:130:in `instance_exec'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/core_ext/time/zones.rb:65:in `use_zone'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:130:in `instance_exec'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/execution.rb:67:in `_perform_job'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/instrumentation.rb:32:in `_perform_job'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/execution.rb:51:in `perform_now'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/instrumentation.rb:26:in `block in perform_now'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/railties/job_runtime.rb:13:in `block in instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/instrumentation.rb:40:in `block in instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/notifications.rb:206:in `block in instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/notifications.rb:206:in `instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/instrumentation.rb:39:in `instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/railties/job_runtime.rb:11:in `instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/instrumentation.rb:26:in `perform_now'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/logging.rb:18:in `block in perform_now'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/logging.rb:25:in `tag_logger'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/logging.rb:18:in `perform_now'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/execution.rb:29:in `block in execute'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/railtie.rb:67:in `block (4 levels) in <class:Railtie>'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/reloader.rb:77:in `block in wrap'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/execution_wrapper.rb:92:in `wrap'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/reloader.rb:74:in `wrap'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/railtie.rb:66:in `block (3 levels) in <class:Railtie>'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:130:in `instance_exec'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/execution.rb:27:in `execute'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/concurrent-ruby-1.3.4/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in `run_task'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/concurrent-ruby-1.3.4/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in `block (3 levels) in create_worker'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/concurrent-ruby-1.3.4/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `loop'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/concurrent-ruby-1.3.4/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `block (2 levels) in create_worker'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/concurrent-ruby-1.3.4/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `catch'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/concurrent-ruby-1.3.4/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `block in create_worker'
[ActiveJob] [ActiveStorage::PurgeJob] [b64ad3e0-2776-4c66-826c-dd9274956592]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [b64ad3e0-2776-4c66-826c-dd9274956592] Performing ActiveStorage::PurgeJob (Job ID: b64ad3e0-2776-4c66-826c-dd9274956592) from Async(default) enqueued at 2024-09-11T18:38:37.218209477Z with arguments: #<GlobalID:0x000071dea3aeff08 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::PurgeJob] [b64ad3e0-2776-4c66-826c-dd9274956592]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [b64ad3e0-2776-4c66-826c-dd9274956592]   [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [b64ad3e0-2776-4c66-826c-dd9274956592]   [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 3]]
[ActiveJob] [ActiveStorage::PurgeJob] [b64ad3e0-2776-4c66-826c-dd9274956592]   [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [b64ad3e0-2776-4c66-826c-dd9274956592]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 3]]
[ActiveJob] [ActiveStorage::PurgeJob] [b64ad3e0-2776-4c66-826c-dd9274956592]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [f0700587-0673-4a38-9ffd-95171f45bdb0]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [b64ad3e0-2776-4c66-826c-dd9274956592] [36m  Disk Storage (1.5ms) [0m[31mDeleted file from key: wryn6cnnohzaj0hmkip83v8bb8uh[0m
[ActiveJob] [ActiveStorage::PurgeJob] [b64ad3e0-2776-4c66-826c-dd9274956592] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/wryn6cnnohzaj0hmkip83v8bb8uh/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [f0700587-0673-4a38-9ffd-95171f45bdb0] Performing ActiveStorage::PurgeJob (Job ID: f0700587-0673-4a38-9ffd-95171f45bdb0) from Async(default) enqueued at 2024-09-11T18:38:37.233304639Z with arguments: #<GlobalID:0x000071dea3ac6900 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/4>>
[ActiveJob] [ActiveStorage::PurgeJob] [b64ad3e0-2776-4c66-826c-dd9274956592] Performed ActiveStorage::PurgeJob (Job ID: b64ad3e0-2776-4c66-826c-dd9274956592) from Async(default) in 10.82ms
[ActiveJob] [ActiveStorage::PurgeJob] [f0700587-0673-4a38-9ffd-95171f45bdb0]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [f0700587-0673-4a38-9ffd-95171f45bdb0]   [1m[36mActiveStorage::Attachment Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [f0700587-0673-4a38-9ffd-95171f45bdb0]   [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 4]]
[ActiveJob] [ActiveStorage::PurgeJob] [37780920-b7b8-4cd8-88d4-808b5c6fbc42]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [37780920-b7b8-4cd8-88d4-808b5c6fbc42] Performing ActiveStorage::PurgeJob (Job ID: 37780920-b7b8-4cd8-88d4-808b5c6fbc42) from Async(default) enqueued at 2024-09-11T18:38:37.241790755Z with arguments: #<GlobalID:0x000071dea3aa5f48 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/5>>
[ActiveJob] [ActiveStorage::PurgeJob] [37780920-b7b8-4cd8-88d4-808b5c6fbc42]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [37780920-b7b8-4cd8-88d4-808b5c6fbc42]   [1m[36mActiveStorage::Attachment Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 5], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [37780920-b7b8-4cd8-88d4-808b5c6fbc42]   [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 5]]
[ActiveJob] [ActiveStorage::PurgeJob] [37780920-b7b8-4cd8-88d4-808b5c6fbc42]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [f0700587-0673-4a38-9ffd-95171f45bdb0]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [37780920-b7b8-4cd8-88d4-808b5c6fbc42]   [1m[36mActiveStorage::Blob Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 5]]
[ActiveJob] [ActiveStorage::PurgeJob] [f0700587-0673-4a38-9ffd-95171f45bdb0]   [1m[36mActiveStorage::Blob Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 4]]
[ActiveJob] [ActiveStorage::PurgeJob] [f0700587-0673-4a38-9ffd-95171f45bdb0]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [f0700587-0673-4a38-9ffd-95171f45bdb0] Error performing ActiveStorage::PurgeJob (Job ID: f0700587-0673-4a38-9ffd-95171f45bdb0) from Async(default) in 20.88ms: ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/sqlite3-2.0.4-x86_64-linux-gnu/lib/sqlite3/statement.rb:125:in `step'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/sqlite3-2.0.4-x86_64-linux-gnu/lib/sqlite3/statement.rb:125:in `block in each'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/sqlite3-2.0.4-x86_64-linux-gnu/lib/sqlite3/statement.rb:124:in `loop'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/sqlite3-2.0.4-x86_64-linux-gnu/lib/sqlite3/statement.rb:124:in `each'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:42:in `to_a'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:42:in `block (2 levels) in internal_exec_query'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:1027:in `block in with_raw_connection'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:999:in `with_raw_connection'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:33:in `block in internal_exec_query'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:1142:in `log'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:32:in `internal_exec_query'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:61:in `exec_delete'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:208:in `delete'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract/query_cache.rb:25:in `delete'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/persistence.rb:624:in `_delete_record'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/persistence.rb:1198:in `_delete_row'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/persistence.rb:1194:in `destroy_row'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/counter_cache.rb:198:in `destroy_row'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/locking/optimistic.rb:125:in `destroy_row'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/persistence.rb:783:in `destroy'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/callbacks.rb:423:in `block in destroy'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:110:in `run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:952:in `_run_destroy_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/callbacks.rb:423:in `destroy'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/transactions.rb:305:in `block in destroy'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/transactions.rb:365:in `block in with_transaction_returning_status'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:535:in `block in within_new_transaction'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:532:in `within_new_transaction'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:344:in `transaction'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/transactions.rb:361:in `with_transaction_returning_status'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/transactions.rb:305:in `destroy'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activestorage-7.1.4/app/models/active_storage/blob.rb:316:in `purge'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activestorage-7.1.4/app/jobs/active_storage/purge_job.rb:11:in `perform'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/execution.rb:68:in `block in _perform_job'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/i18n-1.14.5/lib/i18n.rb:351:in `with_locale'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:130:in `instance_exec'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/core_ext/time/zones.rb:65:in `use_zone'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:130:in `instance_exec'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/execution.rb:67:in `_perform_job'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/instrumentation.rb:32:in `_perform_job'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/execution.rb:51:in `perform_now'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/instrumentation.rb:26:in `block in perform_now'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/railties/job_runtime.rb:13:in `block in instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/instrumentation.rb:40:in `block in instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/notifications.rb:206:in `block in instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/notifications.rb:206:in `instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/instrumentation.rb:39:in `instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activerecord-7.1.4/lib/active_record/railties/job_runtime.rb:11:in `instrument'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/instrumentation.rb:26:in `perform_now'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/logging.rb:18:in `block in perform_now'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/logging.rb:25:in `tag_logger'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/logging.rb:18:in `perform_now'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/execution.rb:29:in `block in execute'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/railtie.rb:67:in `block (4 levels) in <class:Railtie>'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/reloader.rb:77:in `block in wrap'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/execution_wrapper.rb:92:in `wrap'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/reloader.rb:74:in `wrap'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/railtie.rb:66:in `block (3 levels) in <class:Railtie>'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:130:in `instance_exec'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activesupport-7.1.4/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/execution.rb:27:in `execute'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/activejob-7.1.4/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/concurrent-ruby-1.3.4/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in `run_task'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/concurrent-ruby-1.3.4/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in `block (3 levels) in create_worker'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/concurrent-ruby-1.3.4/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `loop'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/concurrent-ruby-1.3.4/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `block (2 levels) in create_worker'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/concurrent-ruby-1.3.4/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `catch'
/home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/concurrent-ruby-1.3.4/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `block in create_worker'
[ActiveJob] [ActiveStorage::PurgeJob] [37780920-b7b8-4cd8-88d4-808b5c6fbc42]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::PurgeJob] [37780920-b7b8-4cd8-88d4-808b5c6fbc42] [36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: rg3pul061zv6axet76dlrfg5yzne[0m
[ActiveJob] [ActiveStorage::PurgeJob] [37780920-b7b8-4cd8-88d4-808b5c6fbc42] [36m  Disk Storage (0.0ms) [0m[31mDeleted files by key prefix: variants/rg3pul061zv6axet76dlrfg5yzne/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [37780920-b7b8-4cd8-88d4-808b5c6fbc42] Performed ActiveStorage::PurgeJob (Job ID: 37780920-b7b8-4cd8-88d4-808b5c6fbc42) from Async(default) in 13.86ms
  [1m[36mActiveStorage::Blob Load (2.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 2], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 2]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Attachment Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 4], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ?[0m  [["blob_id", 4]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 4]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeImageIdToNotNull (20240911183644)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproducts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "description" text DEFAULT NULL, "price" integer(9) DEFAULT NULL, "image" varchar(500) DEFAULT NULL, "stock" integer(9) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "image_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aproducts_on_image_id" ON "aproducts" ("image_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aproducts" ("id","name","description","price","image","stock","created_at","updated_at","image_id")
                     SELECT "id","name","description","price","image","stock","created_at","updated_at","image_id" FROM "products"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "products"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "description" text DEFAULT NULL, "price" integer(9) DEFAULT NULL, "image" varchar(500) DEFAULT NULL, "stock" integer(9) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "image_id" integer NOT NULL, CONSTRAINT "fk_rails_0c57d8fc34"
FOREIGN KEY ("image_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_image_id" ON "products" ("image_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","image","stock","created_at","updated_at","image_id")
                     SELECT "id","name","description","price","image","stock","created_at","updated_at","image_id" FROM "aproducts"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aproducts"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240911183644') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "order_details"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer NOT NULL, "product_id" integer NOT NULL, "quantity" integer(10), "total" integer(15), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_order_id" ON "order_details" ("order_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_product_id" ON "order_details" ("product_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at2" datetime(6), "status" varchar(80), "total" integer(15), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30), "description" text, "price" integer(9), "image" varchar(500), "stock" integer(9), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "image_id" integer NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_products_on_image_id" ON "products" ("image_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30), "last_name" varchar(30), "email" varchar(80), "phone" varchar(10), "password" varchar(100), "address" varchar(200), "role" varchar(50), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "password_digest" varchar)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorder_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer NOT NULL, "product_id" integer NOT NULL, "quantity" integer(10) DEFAULT NULL, "total" integer(15) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aorder_details_on_product_id" ON "aorder_details" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aorder_details_on_order_id" ON "aorder_details" ("order_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aorder_details" ("id","order_id","product_id","quantity","total","created_at","updated_at")
                     SELECT "id","order_id","product_id","quantity","total","created_at","updated_at" FROM "order_details"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "order_details"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer NOT NULL, "product_id" integer NOT NULL, "quantity" integer(10) DEFAULT NULL, "total" integer(15) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e5976611fd"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_order_id" ON "order_details" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_product_id" ON "order_details" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "order_details" ("id","order_id","product_id","quantity","total","created_at","updated_at")
                     SELECT "id","order_id","product_id","quantity","total","created_at","updated_at" FROM "aorder_details"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aorder_details"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorder_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer NOT NULL, "product_id" integer NOT NULL, "quantity" integer(10) DEFAULT NULL, "total" integer(15) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aorder_details_on_product_id" ON "aorder_details" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aorder_details_on_order_id" ON "aorder_details" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aorder_details" ("id","order_id","product_id","quantity","total","created_at","updated_at")
                     SELECT "id","order_id","product_id","quantity","total","created_at","updated_at" FROM "order_details"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "order_details"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer NOT NULL, "product_id" integer NOT NULL, "quantity" integer(10) DEFAULT NULL, "total" integer(15) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e5976611fd"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_4f2ac9473b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_order_id" ON "order_details" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_product_id" ON "order_details" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "order_details" ("id","order_id","product_id","quantity","total","created_at","updated_at")
                     SELECT "id","order_id","product_id","quantity","total","created_at","updated_at" FROM "aorder_details"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aorder_details"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at2" datetime(6) DEFAULT NULL, "status" varchar(80) DEFAULT NULL, "total" integer(15) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aorders_on_user_id" ON "aorders" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aorders" ("id","user_id","created_at2","status","total","created_at","updated_at")
                     SELECT "id","user_id","created_at2","status","total","created_at","updated_at" FROM "orders"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at2" datetime(6) DEFAULT NULL, "status" varchar(80) DEFAULT NULL, "total" integer(15) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("id","user_id","created_at2","status","total","created_at","updated_at")
                     SELECT "id","user_id","created_at2","status","total","created_at","updated_at" FROM "aorders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aorders"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproducts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "description" text DEFAULT NULL, "price" integer(9) DEFAULT NULL, "image" varchar(500) DEFAULT NULL, "stock" integer(9) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "image_id" integer NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aproducts_on_image_id" ON "aproducts" ("image_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aproducts" ("id","name","description","price","image","stock","created_at","updated_at","image_id")
                     SELECT "id","name","description","price","image","stock","created_at","updated_at","image_id" FROM "products"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "products"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "description" text DEFAULT NULL, "price" integer(9) DEFAULT NULL, "image" varchar(500) DEFAULT NULL, "stock" integer(9) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "image_id" integer NOT NULL, CONSTRAINT "fk_rails_0c57d8fc34"
FOREIGN KEY ("image_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_image_id" ON "products" ("image_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","image","stock","created_at","updated_at","image_id")
                     SELECT "id","name","description","price","image","stock","created_at","updated_at","image_id" FROM "aproducts"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aproducts"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240911183644)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240911183358),
(20240911113247),
(20240911113246),
(20240911113245),
(20240911112819),
(20240906142525),
(20240906140313),
(20240906140257),
(20240906140246),
(20240906140229);[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-09-11 18:43:20.452653', '2024-09-11 18:43:20.452658') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '12b4dc644ccd3a3b4ad7b3283d2b37c42e578da8', '2024-09-11 18:43:20.455837', '2024-09-11 18:43:20.455839') RETURNING "key"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "order_details"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer NOT NULL, "product_id" integer NOT NULL, "quantity" integer(10), "total" integer(15), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_order_id" ON "order_details" ("order_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_product_id" ON "order_details" ("product_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at2" datetime(6), "status" varchar(80), "total" integer(15), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30), "description" text, "price" integer(9), "image" varchar(500), "stock" integer(9), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "image_id" integer NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_products_on_image_id" ON "products" ("image_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30), "last_name" varchar(30), "email" varchar(80), "phone" varchar(10), "password" varchar(100), "address" varchar(200), "role" varchar(50), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "password_digest" varchar)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorder_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer NOT NULL, "product_id" integer NOT NULL, "quantity" integer(10) DEFAULT NULL, "total" integer(15) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aorder_details_on_product_id" ON "aorder_details" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aorder_details_on_order_id" ON "aorder_details" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aorder_details" ("id","order_id","product_id","quantity","total","created_at","updated_at")
                     SELECT "id","order_id","product_id","quantity","total","created_at","updated_at" FROM "order_details"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "order_details"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer NOT NULL, "product_id" integer NOT NULL, "quantity" integer(10) DEFAULT NULL, "total" integer(15) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e5976611fd"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_order_id" ON "order_details" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_product_id" ON "order_details" ("product_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "order_details" ("id","order_id","product_id","quantity","total","created_at","updated_at")
                     SELECT "id","order_id","product_id","quantity","total","created_at","updated_at" FROM "aorder_details"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aorder_details"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorder_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer NOT NULL, "product_id" integer NOT NULL, "quantity" integer(10) DEFAULT NULL, "total" integer(15) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aorder_details_on_product_id" ON "aorder_details" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aorder_details_on_order_id" ON "aorder_details" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aorder_details" ("id","order_id","product_id","quantity","total","created_at","updated_at")
                     SELECT "id","order_id","product_id","quantity","total","created_at","updated_at" FROM "order_details"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "order_details"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "order_details" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer NOT NULL, "product_id" integer NOT NULL, "quantity" integer(10) DEFAULT NULL, "total" integer(15) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e5976611fd"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_4f2ac9473b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_order_id" ON "order_details" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_order_details_on_product_id" ON "order_details" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "order_details" ("id","order_id","product_id","quantity","total","created_at","updated_at")
                     SELECT "id","order_id","product_id","quantity","total","created_at","updated_at" FROM "aorder_details"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aorder_details"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at2" datetime(6) DEFAULT NULL, "status" varchar(80) DEFAULT NULL, "total" integer(15) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aorders_on_user_id" ON "aorders" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aorders" ("id","user_id","created_at2","status","total","created_at","updated_at")
                     SELECT "id","user_id","created_at2","status","total","created_at","updated_at" FROM "orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "orders"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at2" datetime(6) DEFAULT NULL, "status" varchar(80) DEFAULT NULL, "total" integer(15) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("id","user_id","created_at2","status","total","created_at","updated_at")
                     SELECT "id","user_id","created_at2","status","total","created_at","updated_at" FROM "aorders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aorders"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproducts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "description" text DEFAULT NULL, "price" integer(9) DEFAULT NULL, "image" varchar(500) DEFAULT NULL, "stock" integer(9) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "image_id" integer NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aproducts_on_image_id" ON "aproducts" ("image_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aproducts" ("id","name","description","price","image","stock","created_at","updated_at","image_id")
                     SELECT "id","name","description","price","image","stock","created_at","updated_at","image_id" FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "products"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "description" text DEFAULT NULL, "price" integer(9) DEFAULT NULL, "image" varchar(500) DEFAULT NULL, "stock" integer(9) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "image_id" integer NOT NULL, CONSTRAINT "fk_rails_0c57d8fc34"
FOREIGN KEY ("image_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_image_id" ON "products" ("image_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","image","stock","created_at","updated_at","image_id")
                     SELECT "id","name","description","price","image","stock","created_at","updated_at","image_id" FROM "aproducts"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aproducts"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240911183644)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240911183358),
(20240911113247),
(20240911113246),
(20240911113245),
(20240911112819),
(20240906142525),
(20240906140313),
(20240906140257),
(20240906140246),
(20240906140229);[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-09-11 18:43:20.645442', '2024-09-11 18:43:20.645445') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2024-09-11 18:43:20.647346' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '12b4dc644ccd3a3b4ad7b3283d2b37c42e578da8', '2024-09-11 18:43:20.649339', '2024-09-11 18:43:20.649341') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/signup" for 45.238.146.4 at 2024-09-11 13:50:19 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#signup as HTML
  Parameters: {"user"=>{"name"=>"Camilo", "last_name"=>"Perez", "phone"=>"3006584737", "address"=>"Kr87 Calle 22A", "email"=>"camilo@gmail.com", "password"=>"[FILTERED]", "role"=>"CLIENTE"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mUser Exists? (4.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "camilo@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "last_name", "email", "phone", "password", "address", "role", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Camilo"], ["last_name", "Perez"], ["email", "camilo@gmail.com"], ["phone", "3006584737"], ["password", "[FILTERED]"], ["address", "Kr87 Calle 22A"], ["role", "CLIENTE"], ["created_at", "2024-09-11 18:50:19.657317"], ["updated_at", "2024-09-11 18:50:19.657317"], ["password_digest", "[FILTERED]"]]
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
Completed 200 OK in 272ms (Views: 0.8ms | ActiveRecord: 8.7ms | Allocations: 18250)


Started POST "/signup" for 45.238.146.4 at 2024-09-11 13:50:39 -0500
Processing by UsersController#signup as */*
  Parameters: {"user"=>{"name"=>"andres", "last_name"=>"gonzalo", "email"=>"andres@gmail.com", "phone"=>"1234567890", "password"=>"[FILTERED]", "address"=>"1234 Main St, Anytown, USA", "role"=>"ADMINISTRADOR"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mUser Exists? (2.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "last_name", "email", "phone", "password", "address", "role", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "andres"], ["last_name", "gonzalo"], ["email", "andres@gmail.com"], ["phone", "1234567890"], ["password", "[FILTERED]"], ["address", "1234 Main St, Anytown, USA"], ["role", "ADMINISTRADOR"], ["created_at", "2024-09-11 18:50:39.603642"], ["updated_at", "2024-09-11 18:50:39.603642"], ["password_digest", "[FILTERED]"]]
  ↳ app/controllers/users_controller.rb:18:in `signup'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:18:in `signup'
Completed 200 OK in 222ms (Views: 0.2ms | ActiveRecord: 3.1ms | Allocations: 3100)


Started POST "/login" for 45.238.146.4 at 2024-09-11 13:51:02 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
Completed 401 Unauthorized in 203ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 954)


Started POST "/login" for 45.238.146.4 at 2024-09-11 13:51:05 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 201ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 1102)


Started POST "/products" for 45.238.146.4 at 2024-09-11 13:51:32 -0500
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"acetaminofen", "description"=>"cura todo", "price"=>"3500", "stock"=>"10", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007475770ab6b0 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-17111-2d2lb7.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0004.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"product[image]\"; filename=\"IMG-20240911-WA0004.jpg\"\r\n">}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mProduct Create (2.0ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "image", "stock", "created_at", "updated_at", "image_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "acetaminofen"], ["description", "cura todo"], ["price", 3500], ["image", nil], ["stock", 10], ["created_at", "2024-09-11 18:51:32.596362"], ["updated_at", "2024-09-11 18:51:32.596362"], ["image_id", nil]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/products_controller.rb:19:in `create'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 2.7ms | Allocations: 22378)


  
ActiveRecord::NotNullViolation (SQLite3::ConstraintException: NOT NULL constraint failed: products.image_id):
  
Started POST "/login" for 45.238.146.4 at 2024-09-11 13:58:59 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 262ms (Views: 0.8ms | ActiveRecord: 3.3ms | Allocations: 14004)


Started POST "/products" for 45.238.146.4 at 2024-09-11 13:59:30 -0500
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"acetaminofen", "description"=>"cura de 1 un millon", "price"=>"6500", "stock"=>"20", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f3526345208 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-17352-1rccxr.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0004.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"product[image]\"; filename=\"IMG-20240911-WA0004.jpg\"\r\n">}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mProduct Create (2.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "image", "stock", "created_at", "updated_at", "image_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "acetaminofen"], ["description", "cura de 1 un millon"], ["price", 6500], ["image", nil], ["stock", 20], ["created_at", "2024-09-11 18:59:31.041342"], ["updated_at", "2024-09-11 18:59:31.041342"], ["image_id", nil]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/products_controller.rb:19:in `create'
Completed 500 Internal Server Error in 44ms (ActiveRecord: 2.8ms | Allocations: 22594)


  
ActiveRecord::NotNullViolation (SQLite3::ConstraintException: NOT NULL constraint failed: products.image_id):
  
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullFromImageId (20240911190343)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproducts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "description" text DEFAULT NULL, "price" integer(9) DEFAULT NULL, "image" varchar(500) DEFAULT NULL, "stock" integer(9) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "image_id" integer NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aproducts_on_image_id" ON "aproducts" ("image_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aproducts" ("id","name","description","price","image","stock","created_at","updated_at","image_id")
                     SELECT "id","name","description","price","image","stock","created_at","updated_at","image_id" FROM "products"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "products"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(30) DEFAULT NULL, "description" text DEFAULT NULL, "price" integer(9) DEFAULT NULL, "image" varchar(500) DEFAULT NULL, "stock" integer(9) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "image_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_0c57d8fc34"
FOREIGN KEY ("image_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_products_on_image_id" ON "products" ("image_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "products" ("id","name","description","price","image","stock","created_at","updated_at","image_id")
                     SELECT "id","name","description","price","image","stock","created_at","updated_at","image_id" FROM "aproducts"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aproducts"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240911190343') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/login" for 45.238.146.4 at 2024-09-11 14:06:36 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
Completed 401 Unauthorized in 238ms (Views: 0.4ms | ActiveRecord: 1.7ms | Allocations: 13363)


Started POST "/login" for 45.238.146.4 at 2024-09-11 14:06:44 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 202ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 1343)


Started POST "/products" for 45.238.146.4 at 2024-09-11 14:07:42 -0500
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"acetaminofen", "description"=>"nose", "price"=>"5000", "stock"=>"20", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007ab21c494a50 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-17616-xjvhsv.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0004.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"product[image]\"; filename=\"IMG-20240911-WA0004.jpg\"\r\n">}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mProduct Create (1.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "image", "stock", "created_at", "updated_at", "image_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "acetaminofen"], ["description", "nose"], ["price", 5000], ["image", nil], ["stock", 20], ["created_at", "2024-09-11 19:07:42.996193"], ["updated_at", "2024-09-11 19:07:42.996193"], ["image_id", nil]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "tm35bxw6gino37qhzd0h5rtwf9en"], ["filename", "IMG-20240911-WA0004.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 110425], ["checksum", "0GXBpUcdG+o35S40L98/Gg=="], ["created_at", "2024-09-11 19:07:43.024930"]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-09-11 19:07:43.029018"]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 19:07:43.031906"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:19:in `create'
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: tm35bxw6gino37qhzd0h5rtwf9en (checksum: 0GXBpUcdG+o35S40L98/Gg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2cf5c674-3828-46b7-89b3-32fbcb898e28) to Async(default) with arguments: #<GlobalID:0x00007ab21c972fe0 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/1>>
[ActiveJob] ↳ app/controllers/products_controller.rb:19:in `create'
Completed 500 Internal Server Error in 113ms (ActiveRecord: 4.1ms | Allocations: 57837)


  
SystemStackError (stack level too deep):
  
app/controllers/products_controller.rb:20:in `create'
[ActiveJob] [ActiveStorage::AnalyzeJob] [2cf5c674-3828-46b7-89b3-32fbcb898e28]   [1m[36mActiveStorage::Blob Load (3.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2cf5c674-3828-46b7-89b3-32fbcb898e28] Performing ActiveStorage::AnalyzeJob (Job ID: 2cf5c674-3828-46b7-89b3-32fbcb898e28) from Async(default) enqueued at 2024-09-11T19:07:43.047673046Z with arguments: #<GlobalID:0x00007ab21c9125c8 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [2cf5c674-3828-46b7-89b3-32fbcb898e28] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [2cf5c674-3828-46b7-89b3-32fbcb898e28]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2cf5c674-3828-46b7-89b3-32fbcb898e28]   [1m[36mActiveStorage::Blob Update (98.8ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2cf5c674-3828-46b7-89b3-32fbcb898e28]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2cf5c674-3828-46b7-89b3-32fbcb898e28]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2cf5c674-3828-46b7-89b3-32fbcb898e28]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 19:07:56.442557"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2cf5c674-3828-46b7-89b3-32fbcb898e28]   [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2cf5c674-3828-46b7-89b3-32fbcb898e28] Performed ActiveStorage::AnalyzeJob (Job ID: 2cf5c674-3828-46b7-89b3-32fbcb898e28) from Async(default) in 13144.31ms
Started GET "/" for 45.238.146.4 at 2024-09-11 14:12:29 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.0ms | Allocations: 386)
Completed 200 OK in 25ms (Views: 10.9ms | ActiveRecord: 0.0ms | Allocations: 5216)


Started POST "/login" for 45.238.146.4 at 2024-09-11 14:14:14 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/backend-FamiSaludLa91/app/controllers/users_controller.rb:71)
Completed 200 OK in 225ms (Views: 0.5ms | ActiveRecord: 1.6ms | Allocations: 11699)


Started POST "/products" for 45.238.146.4 at 2024-09-11 14:14:58 -0500
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"acetaminofen", "description"=>"nose", "price"=>"6088", "stock"=>"25", "image"=>#<ActionDispatch::Http::UploadedFile:0x000077cb0171d7e0 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-18000-v6q9c.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0004.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"product[image]\"; filename=\"IMG-20240911-WA0004.jpg\"\r\n">}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "image", "stock", "created_at", "updated_at", "image_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "acetaminofen"], ["description", "nose"], ["price", 6088], ["image", nil], ["stock", 25], ["created_at", "2024-09-11 19:14:58.285371"], ["updated_at", "2024-09-11 19:14:58.285371"], ["image_id", nil]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "9snxgra7yfxxs64ueesavp6pm90k"], ["filename", "IMG-20240911-WA0004.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 110425], ["checksum", "0GXBpUcdG+o35S40L98/Gg=="], ["created_at", "2024-09-11 19:14:58.358601"]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 2], ["blob_id", 2], ["created_at", "2024-09-11 19:14:58.360698"]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 19:14:58.362307"], ["id", 2]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:19:in `create'
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: 9snxgra7yfxxs64ueesavp6pm90k (checksum: 0GXBpUcdG+o35S40L98/Gg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f92a972e-e2c5-4204-9352-446f07b072f0) to Async(default) with arguments: #<GlobalID:0x000077cb016cc2c8 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/2>>
[ActiveJob] ↳ app/controllers/products_controller.rb:19:in `create'
Redirected to https://c7fc-45-238-146-4.ngrok-free.app/products/2
Completed 302 Found in 126ms (ActiveRecord: 3.9ms | Allocations: 45836)


[ActiveJob] [ActiveStorage::AnalyzeJob] [f92a972e-e2c5-4204-9352-446f07b072f0]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f92a972e-e2c5-4204-9352-446f07b072f0] Performing ActiveStorage::AnalyzeJob (Job ID: f92a972e-e2c5-4204-9352-446f07b072f0) from Async(default) enqueued at 2024-09-11T19:14:58.378489296Z with arguments: #<GlobalID:0x000077cb0164fae8 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f92a972e-e2c5-4204-9352-446f07b072f0] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [f92a972e-e2c5-4204-9352-446f07b072f0]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f92a972e-e2c5-4204-9352-446f07b072f0]   [1m[36mActiveStorage::Blob Update (1.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f92a972e-e2c5-4204-9352-446f07b072f0]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f92a972e-e2c5-4204-9352-446f07b072f0]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ?[0m  [["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f92a972e-e2c5-4204-9352-446f07b072f0]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 19:14:58.412180"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f92a972e-e2c5-4204-9352-446f07b072f0]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f92a972e-e2c5-4204-9352-446f07b072f0] Performed ActiveStorage::AnalyzeJob (Job ID: f92a972e-e2c5-4204-9352-446f07b072f0) from Async(default) in 30.69ms
Started GET "/" for 45.238.146.4 at 2024-09-11 15:04:54 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/maiyer/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.3ms | Allocations: 386)
Completed 200 OK in 23ms (Views: 7.4ms | ActiveRecord: 0.0ms | Allocations: 5296)


Started POST "/login" for 45.238.146.4 at 2024-09-11 15:45:55 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/Documentos/GitHub/Proyecto-Formativo-Mobile/app/controllers/users_controller.rb:71)
Completed 200 OK in 228ms (Views: 0.9ms | ActiveRecord: 2.9ms | Allocations: 11678)


Started POST "/products" for 45.238.146.4 at 2024-09-11 15:46:33 -0500
  
SyntaxError (/home/maiyer/Documentos/GitHub/Proyecto-Formativo-Mobile/app/controllers/products_controller.rb:20: syntax error, unexpected ':', expecting `end'
...ct was successfully created.' :ok
...                              ^
):
  
app/controllers/products_controller.rb:20: syntax error, unexpected ':', expecting `end'
Started POST "/products" for 45.238.146.4 at 2024-09-11 15:46:48 -0500
  
SyntaxError (/home/maiyer/Documentos/GitHub/Proyecto-Formativo-Mobile/app/controllers/products_controller.rb:20: syntax error, unexpected ':', expecting `end'
...ct was successfully created.' :ok
...                              ^
):
  
app/controllers/products_controller.rb:20: syntax error, unexpected ':', expecting `end'
Started POST "/login" for 45.238.146.4 at 2024-09-11 16:52:43 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/Documentos/GitHub/Proyecto-Formativo-Mobile/app/controllers/users_controller.rb:71)
Completed 200 OK in 250ms (Views: 0.6ms | ActiveRecord: 1.6ms | Allocations: 13985)


Started POST "/products" for 45.238.146.4 at 2024-09-11 16:53:30 -0500
  
SyntaxError (/home/maiyer/Documentos/GitHub/Proyecto-Formativo-Mobile/app/controllers/products_controller.rb:20: syntax error, unexpected ':', expecting `end'
...ct was successfully created.' :ok
...                              ^
):
  
app/controllers/products_controller.rb:20: syntax error, unexpected ':', expecting `end'
Started POST "/products" for 45.238.146.4 at 2024-09-11 16:53:57 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/maiyer/Documentos/GitHub/Proyecto-Formativo-Mobile/app/controllers/products_controller.rb:20: syntax error, unexpected ':', expecting `end'
...ct was successfully created.' :ok
...                              ^
):
  
app/controllers/products_controller.rb:20: syntax error, unexpected ':', expecting `end'
Started POST "/products" for 45.238.146.4 at 2024-09-11 16:55:02 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/maiyer/Documentos/GitHub/Proyecto-Formativo-Mobile/app/controllers/products_controller.rb:20: syntax error, unexpected ':', expecting `end'
...ct was successfully created.' :ok
...                              ^
):
  
app/controllers/products_controller.rb:20: syntax error, unexpected ':', expecting `end'
Started POST "/products" for 45.238.146.4 at 2024-09-11 16:55:23 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/maiyer/Documentos/GitHub/Proyecto-Formativo-Mobile/app/controllers/products_controller.rb:20: syntax error, unexpected ':', expecting `end'
...ct was successfully created.' :ok
...                              ^
):
  
app/controllers/products_controller.rb:20: syntax error, unexpected ':', expecting `end'
Started POST "/products" for 45.238.146.4 at 2024-09-11 16:56:50 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/maiyer/Documentos/GitHub/Proyecto-Formativo-Mobile/app/controllers/products_controller.rb:20: syntax error, unexpected ':', expecting `end'
...ct was successfully created.' :ok
...                              ^
):
  
app/controllers/products_controller.rb:20: syntax error, unexpected ':', expecting `end'
Started POST "/products" for 45.238.146.4 at 2024-09-11 16:57:44 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"Dolex", "description"=>"para dolores de cabeza severos ", "price"=>"6500", "stock"=>"20", "image"=>#<ActionDispatch::Http::UploadedFile:0x000071dc09734518 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-22233-a37v9a.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0017.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"product[image]\"; filename=\"IMG-20240911-WA0017.jpg\"\r\n">}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mProduct Create (1.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "image", "stock", "created_at", "updated_at", "image_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Dolex"], ["description", "para dolores de cabeza severos "], ["price", 6500], ["image", nil], ["stock", 20], ["created_at", "2024-09-11 21:57:44.248325"], ["updated_at", "2024-09-11 21:57:44.248325"], ["image_id", nil]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "kx6v7x43cuqk7803q9637x277cg3"], ["filename", "IMG-20240911-WA0017.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 6295], ["checksum", "E7DmQe5QBrMKR5rAfho45w=="], ["created_at", "2024-09-11 21:57:44.275902"]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 3], ["blob_id", 3], ["created_at", "2024-09-11 21:57:44.277804"]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mProduct Update (15.2ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 21:57:44.279364"], ["id", 3]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:19:in `create'
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: kx6v7x43cuqk7803q9637x277cg3 (checksum: E7DmQe5QBrMKR5rAfho45w==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5822b26d-c146-46cd-9afd-74343f60d47c) to Async(default) with arguments: #<GlobalID:0x000071dc096c7fd0 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/3>>
[ActiveJob] ↳ app/controllers/products_controller.rb:19:in `create'
Redirected to https://c7fc-45-238-146-4.ngrok-free.app/products/3
Completed 302 Found in 184ms (ActiveRecord: 23.7ms | Allocations: 56823)


[ActiveJob] [ActiveStorage::AnalyzeJob] [5822b26d-c146-46cd-9afd-74343f60d47c]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5822b26d-c146-46cd-9afd-74343f60d47c] Performing ActiveStorage::AnalyzeJob (Job ID: 5822b26d-c146-46cd-9afd-74343f60d47c) from Async(default) enqueued at 2024-09-11T21:57:44.328365482Z with arguments: #<GlobalID:0x000071dc096be638 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [5822b26d-c146-46cd-9afd-74343f60d47c] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [5822b26d-c146-46cd-9afd-74343f60d47c]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5822b26d-c146-46cd-9afd-74343f60d47c]   [1m[36mActiveStorage::Blob Update (1.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5822b26d-c146-46cd-9afd-74343f60d47c]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5822b26d-c146-46cd-9afd-74343f60d47c]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ?[0m  [["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5822b26d-c146-46cd-9afd-74343f60d47c]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 21:57:44.361712"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5822b26d-c146-46cd-9afd-74343f60d47c]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5822b26d-c146-46cd-9afd-74343f60d47c] Performed ActiveStorage::AnalyzeJob (Job ID: 5822b26d-c146-46cd-9afd-74343f60d47c) from Async(default) in 29.57ms
Started POST "/products" for 45.238.146.4 at 2024-09-11 17:00:00 -0500
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"Dolex", "description"=>"para dolores de cabeza severos ", "price"=>"6500", "stock"=>"20", "image"=>#<ActionDispatch::Http::UploadedFile:0x000071dc09d48238 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-22233-4j7k7m.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0017.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"product[image]\"; filename=\"IMG-20240911-WA0017.jpg\"\r\n">}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "image", "stock", "created_at", "updated_at", "image_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Dolex"], ["description", "para dolores de cabeza severos "], ["price", 6500], ["image", nil], ["stock", 20], ["created_at", "2024-09-11 22:00:00.676977"], ["updated_at", "2024-09-11 22:00:00.676977"], ["image_id", nil]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "dbhp5qu50jbseexgw2r8zgxyx0n0"], ["filename", "IMG-20240911-WA0017.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 6295], ["checksum", "E7DmQe5QBrMKR5rAfho45w=="], ["created_at", "2024-09-11 22:00:00.690473"]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 4], ["blob_id", 4], ["created_at", "2024-09-11 22:00:00.692262"]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 22:00:00.693618"], ["id", 4]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:19:in `create'
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: dbhp5qu50jbseexgw2r8zgxyx0n0 (checksum: E7DmQe5QBrMKR5rAfho45w==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3f3ab30b-151d-41c4-a73a-be4017cb4752) to Async(default) with arguments: #<GlobalID:0x000071dc096214a0 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/4>>
[ActiveJob] ↳ app/controllers/products_controller.rb:19:in `create'
Redirected to https://c7fc-45-238-146-4.ngrok-free.app/products/4
Completed 200 OK in 44ms (ActiveRecord: 5.4ms | Allocations: 28914)


[ActiveJob] [ActiveStorage::AnalyzeJob] [3f3ab30b-151d-41c4-a73a-be4017cb4752]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3f3ab30b-151d-41c4-a73a-be4017cb4752] Performing ActiveStorage::AnalyzeJob (Job ID: 3f3ab30b-151d-41c4-a73a-be4017cb4752) from Async(default) enqueued at 2024-09-11T22:00:00.698527403Z with arguments: #<GlobalID:0x000071dc0a715fb8 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/4>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [3f3ab30b-151d-41c4-a73a-be4017cb4752] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [3f3ab30b-151d-41c4-a73a-be4017cb4752]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3f3ab30b-151d-41c4-a73a-be4017cb4752]   [1m[36mActiveStorage::Blob Update (2.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 4]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3f3ab30b-151d-41c4-a73a-be4017cb4752]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 4]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3f3ab30b-151d-41c4-a73a-be4017cb4752]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ?[0m  [["id", 4]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3f3ab30b-151d-41c4-a73a-be4017cb4752]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 22:00:00.804679"], ["id", 4]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3f3ab30b-151d-41c4-a73a-be4017cb4752]   [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3f3ab30b-151d-41c4-a73a-be4017cb4752] Performed ActiveStorage::AnalyzeJob (Job ID: 3f3ab30b-151d-41c4-a73a-be4017cb4752) from Async(default) in 52.71ms
Started POST "/login" for 45.238.146.4 at 2024-09-11 17:06:13 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/Documentos/GitHub/Proyecto-Formativo-Mobile/app/controllers/users_controller.rb:71)
Completed 200 OK in 216ms (Views: 0.5ms | ActiveRecord: 2.2ms | Allocations: 7953)


Started POST "/login" for 45.238.146.4 at 2024-09-11 17:06:14 -0500
Processing by UsersController#login as HTML
  Parameters: {"email"=>"andres@gmail.com", "password"=>"[FILTERED]", "user"=>{"email"=>"andres@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andres@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `login'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from generate_token at /home/maiyer/Documentos/GitHub/Proyecto-Formativo-Mobile/app/controllers/users_controller.rb:71)
Completed 200 OK in 212ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 855)


Started POST "/products" for 45.238.146.4 at 2024-09-11 17:06:52 -0500
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"noraver Gripa", "description"=>"quita la gripe y dolores de garganta ", "price"=>"7500", "stock"=>"20", "image"=>#<ActionDispatch::Http::UploadedFile:0x000071dc0a55cbe0 @tempfile=#<Tempfile:/tmp/RackMultipart20240911-22233-i0z0gv.jpg>, @content_type="image/jpeg", @original_filename="IMG-20240911-WA0018.jpg", @headers="content-type: image/jpeg\r\ncontent-disposition: form-data; name=\"product[image]\"; filename=\"IMG-20240911-WA0018.jpg\"\r\n">}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "image", "stock", "created_at", "updated_at", "image_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "noraver Gripa"], ["description", "quita la gripe y dolores de garganta "], ["price", 7500], ["image", nil], ["stock", 20], ["created_at", "2024-09-11 22:06:52.699414"], ["updated_at", "2024-09-11 22:06:52.699414"], ["image_id", nil]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "vt4tkhbsn15zrp9c6tc80cwjwhr6"], ["filename", "IMG-20240911-WA0018.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 106191], ["checksum", "I+qes2vngGEfqxN74Z4mtQ=="], ["created_at", "2024-09-11 22:06:52.708302"]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 5], ["blob_id", 5], ["created_at", "2024-09-11 22:06:52.711193"]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 22:06:52.713029"], ["id", 5]]
  ↳ app/controllers/products_controller.rb:19:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:19:in `create'
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: vt4tkhbsn15zrp9c6tc80cwjwhr6 (checksum: I+qes2vngGEfqxN74Z4mtQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 079c160b-3275-4b1c-bca3-4010dfa3f4b7) to Async(default) with arguments: #<GlobalID:0x000071dc09df70f8 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/5>>
[ActiveJob] ↳ app/controllers/products_controller.rb:19:in `create'
Redirected to https://c7fc-45-238-146-4.ngrok-free.app/products/5
[ActiveJob] [ActiveStorage::AnalyzeJob] [079c160b-3275-4b1c-bca3-4010dfa3f4b7]   [1m[36mActiveStorage::Blob Load (3.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
Completed 200 OK in 30ms (ActiveRecord: 3.4ms | Allocations: 11325)


[ActiveJob] [ActiveStorage::AnalyzeJob] [079c160b-3275-4b1c-bca3-4010dfa3f4b7] Performing ActiveStorage::AnalyzeJob (Job ID: 079c160b-3275-4b1c-bca3-4010dfa3f4b7) from Async(default) enqueued at 2024-09-11T22:06:52.718033793Z with arguments: #<GlobalID:0x000071dc09ddc9b0 @uri=#<URI::GID gid://backend-fami-salud-la91/ActiveStorage::Blob/5>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [079c160b-3275-4b1c-bca3-4010dfa3f4b7] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [079c160b-3275-4b1c-bca3-4010dfa3f4b7]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [079c160b-3275-4b1c-bca3-4010dfa3f4b7]   [1m[36mActiveStorage::Blob Update (1.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 5]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [079c160b-3275-4b1c-bca3-4010dfa3f4b7]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 5]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [079c160b-3275-4b1c-bca3-4010dfa3f4b7]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ?[0m  [["id", 5]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [079c160b-3275-4b1c-bca3-4010dfa3f4b7]   [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2024-09-11 22:06:52.742126"], ["id", 5]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [079c160b-3275-4b1c-bca3-4010dfa3f4b7]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [079c160b-3275-4b1c-bca3-4010dfa3f4b7] Performed ActiveStorage::AnalyzeJob (Job ID: 079c160b-3275-4b1c-bca3-4010dfa3f4b7) from Async(default) in 24.33ms
